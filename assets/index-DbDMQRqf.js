(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var um={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function yw(){if(xv)return xl;xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Mv;function _w(){return Mv||(Mv=1,um.exports=yw()),um.exports}var O=_w(),cm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function vw(){if(Pv)return Re;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function L(M,ne,oe){this.props=M,this.context=ne,this.refs=F,this.updater=oe||D}L.prototype.isReactComponent={},L.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function ie(M,ne,oe){this.props=M,this.context=ne,this.refs=F,this.updater=oe||D}var te=ie.prototype=new Y;te.constructor=ie,N(te,L.prototype),te.isPureReactComponent=!0;var he=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function P(M,ne,oe,re,ge,Ne){return oe=Ne.ref,{$$typeof:i,type:M,key:ne,ref:oe!==void 0?oe:null,props:Ne}}function w(M,ne){return P(M.type,ne,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function x(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return ne[oe]})}var k=/\/+/g;function U(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):ne.toString(36)}function C(){}function st(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Be(M,ne,oe,re,ge){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Ne){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case i:case e:be=!0;break;case v:return be=M._init,Be(be(M._payload),ne,oe,re,ge)}}if(be)return ge=ge(M),be=re===""?"."+U(M,0):re,he(ge)?(oe="",be!=null&&(oe=be.replace(k,"$&/")+"/"),Be(ge,ne,oe,"",function(Jn){return Jn})):ge!=null&&(R(ge)&&(ge=w(ge,oe+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+be)),ne.push(ge)),1;be=0;var Dt=re===""?".":re+":";if(he(M))for(var Je=0;Je<M.length;Je++)re=M[Je],Ne=Dt+U(re,Je),be+=Be(re,ne,oe,Ne,ge);else if(Je=b(M),typeof Je=="function")for(M=Je.call(M),Je=0;!(re=M.next()).done;)re=re.value,Ne=Dt+U(re,Je++),be+=Be(re,ne,oe,Ne,ge);else if(Ne==="object"){if(typeof M.then=="function")return Be(st(M),ne,oe,re,ge);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(M,ne,oe){if(M==null)return M;var re=[],ge=0;return Be(M,re,"","",function(Ne){return ne.call(oe,Ne,ge++)}),re}function ae(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function De(){}return Re.Children={map:K,forEach:function(M,ne,oe){K(M,function(){ne.apply(this,arguments)},oe)},count:function(M){var ne=0;return K(M,function(){ne++}),ne},toArray:function(M){return K(M,function(ne){return ne})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return le.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cloneElement=function(M,ne,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=N({},M.props),ge=M.key,Ne=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ve.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(re[be]=ne[be]);var be=arguments.length-2;if(be===1)re.children=oe;else if(1<be){for(var Dt=Array(be),Je=0;Je<be;Je++)Dt[Je]=arguments[Je+2];re.children=Dt}return P(M.type,ge,void 0,void 0,Ne,re)},Re.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,ne,oe){var re,ge={},Ne=null;if(ne!=null)for(re in ne.key!==void 0&&(Ne=""+ne.key),ne)ve.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ne[re]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var Dt=Array(be),Je=0;Je<be;Je++)Dt[Je]=arguments[Je+2];ge.children=Dt}if(M&&M.defaultProps)for(re in be=M.defaultProps,be)ge[re]===void 0&&(ge[re]=be[re]);return P(M,Ne,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:m,render:M}},Re.isValidElement=R,Re.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ae}},Re.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Re.startTransition=function(M){var ne=le.T,oe={};le.T=oe;try{var re=M(),ge=le.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(De,de)}catch(Ne){de(Ne)}finally{le.T=ne}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(M){return le.H.use(M)},Re.useActionState=function(M,ne,oe){return le.H.useActionState(M,ne,oe)},Re.useCallback=function(M,ne){return le.H.useCallback(M,ne)},Re.useContext=function(M){return le.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,ne){return le.H.useDeferredValue(M,ne)},Re.useEffect=function(M,ne,oe){var re=le.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(M,ne)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(M,ne,oe){return le.H.useImperativeHandle(M,ne,oe)},Re.useInsertionEffect=function(M,ne){return le.H.useInsertionEffect(M,ne)},Re.useLayoutEffect=function(M,ne){return le.H.useLayoutEffect(M,ne)},Re.useMemo=function(M,ne){return le.H.useMemo(M,ne)},Re.useOptimistic=function(M,ne){return le.H.useOptimistic(M,ne)},Re.useReducer=function(M,ne,oe){return le.H.useReducer(M,ne,oe)},Re.useRef=function(M){return le.H.useRef(M)},Re.useState=function(M){return le.H.useState(M)},Re.useSyncExternalStore=function(M,ne,oe){return le.H.useSyncExternalStore(M,ne,oe)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.0",Re}var Vv;function dp(){return Vv||(Vv=1,cm.exports=vw()),cm.exports}var H=dp();const Ew=fp(H);var hm={exports:{}},Ml={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Tw(){return kv||(kv=1,function(i){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var De=de-1>>>1,M=K[De];if(0<o(M,ae))K[De]=ae,K[de]=M,de=De;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var De=0,M=K.length,ne=M>>>1;De<ne;){var oe=2*(De+1)-1,re=K[oe],ge=oe+1,Ne=K[ge];if(0>o(re,de))ge<M&&0>o(Ne,re)?(K[De]=Ne,K[ge]=de,De=ge):(K[De]=re,K[oe]=de,De=oe);else if(ge<M&&0>o(Ne,de))K[De]=Ne,K[ge]=de,De=ge;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,A=null,b=3,D=!1,N=!1,F=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=K)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function le(K){if(F=!1,he(K),!N)if(n(p)!==null)N=!0,ve||(ve=!0,U());else{var ae=n(g);ae!==null&&Be(le,ae.startTime-K)}}var ve=!1,P=-1,w=5,R=-1;function x(){return L?!0:!(i.unstable_now()-R<w)}function k(){if(L=!1,ve){var K=i.unstable_now();R=K;var ae=!0;try{e:{N=!1,F&&(F=!1,ie(P),P=-1),D=!0;var de=b;try{t:{for(he(K),A=n(p);A!==null&&!(A.expirationTime>K&&x());){var De=A.callback;if(typeof De=="function"){A.callback=null,b=A.priorityLevel;var M=De(A.expirationTime<=K);if(K=i.unstable_now(),typeof M=="function"){A.callback=M,he(K),ae=!0;break t}A===n(p)&&s(p),he(K)}else s(p);A=n(p)}if(A!==null)ae=!0;else{var ne=n(g);ne!==null&&Be(le,ne.startTime-K),ae=!1}}break e}finally{A=null,b=de,D=!1}ae=void 0}}finally{ae?U():ve=!1}}}var U;if(typeof te=="function")U=function(){te(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,st=C.port2;C.port1.onmessage=k,U=function(){st.postMessage(null)}}else U=function(){Y(k,0)};function Be(K,ae){P=Y(function(){K(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return K()}finally{b=de}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=b;b=K;try{return ae()}finally{b=de}},i.unstable_scheduleCallback=function(K,ae,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=de+M,K={id:v++,callback:ae,priorityLevel:K,startTime:de,expirationTime:M,sortIndex:-1},de>De?(K.sortIndex=de,e(g,K),n(p)===null&&K===n(g)&&(F?(ie(P),P=-1):F=!0,Be(le,de-De))):(K.sortIndex=M,e(p,K),N||D||(N=!0,ve||(ve=!0,U()))),K},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(K){var ae=b;return function(){var de=b;b=ae;try{return K.apply(this,arguments)}finally{b=de}}}}(dm)),dm}var Lv;function Aw(){return Lv||(Lv=1,fm.exports=Tw()),fm.exports}var mm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function bw(){if(Uv)return $t;Uv=1;var i=dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},$t.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:D}):v==="script"&&s.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var jv;function Sw(){if(jv)return mm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=bw(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function ww(){if(zv)return Ml;zv=1;var i=Aw(),e=dp(),n=Sw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case te:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],M=-1;function ne(t){return{current:t}}function oe(t){0>M||(t.current=De[M],De[M]=null,M--)}function re(t,r){M++,De[M]=t.current,t.current=r}var ge=ne(null),Ne=ne(null),be=ne(null),Dt=ne(null);function Je(t,r){switch(re(be,r),re(Ne,t),re(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?av(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=av(r),t=ov(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),re(ge,t)}function Jn(){oe(ge),oe(Ne),oe(be)}function or(t){t.memoizedState!==null&&re(Dt,t);var r=ge.current,a=ov(r,t.type);r!==a&&(re(Ne,t),re(ge,a))}function Si(t){Ne.current===t&&(oe(ge),oe(Ne)),Dt.current===t&&(oe(Dt),Il._currentValue=de)}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,So=i.unstable_shouldYield,yu=i.unstable_requestPaint,An=i.unstable_now,uf=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,ra=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,cf=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Ro=i.log,_u=i.unstable_setDisableYieldValue,lt=null,Ge=null;function hn(t){if(typeof Ro=="function"&&_u(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,t)}catch{}}var Ft=Math.clz32?Math.clz32:as,vu=Math.log,hf=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(vu(t)/hf|0)|0}var os=256,ls=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function aa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(E&=T,E!==0?h=Un(E):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):E!==0?h=Un(E):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function us(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Io(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function Do(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ri(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Ft(a),J=1<<X;T[X]=0,I[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var $=G[X];$!==null&&($.lane&=-536870913)}a&=~J}l!==0&&ei(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function ei(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Oo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ft(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function Eu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var nt=Math.random().toString(36).slice(2),At="__reactFiber$"+nt,pt="__reactProps$"+nt,bn="__reactContainer$"+nt,xo="__reactEvents$"+nt,ff="__reactListeners$"+nt,cr="__reactHandles$"+nt,Tu="__reactResources$"+nt,cs="__reactMarker$"+nt;function hr(t){delete t[At],delete t[pt],delete t[xo],delete t[ff],delete t[cr]}function Ii(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[bn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[At])return a;t=hv(t)}return r}t=a,a=t.parentNode}return null}function ti(t){if(t=t[At]||t[bn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ni(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[Tu];return r||(r=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(t){t[cs]=!0}var Mo=new Set,la={};function jn(t,r){Ci(t,r),Ci(t+"Capture",r)}function Ci(t,r){for(la[t]=r,t=0;t<r.length;t++)Mo.add(r[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},hs={};function Su(t){return ns.call(hs,t)?!0:ns.call(bu,t)?!1:Au.test(t)?hs[t]=!0:(bu[t]=!0,!1)}function fr(t,r,a){if(Su(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ii(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var fs,wu;function Di(t){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+wu}var ua=!1;function ca(t,r){if(!t||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var G=$}Reflect.construct(t,[],J)}else{try{J.call()}catch($){G=$}t.call(J.prototype)}}else{try{throw Error()}catch($){G=$}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var I=E.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function Po(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return ca(t.type,!1);case 11:return ca(t.type.render,!1);case 1:return ca(t.type,!0);case 31:return Di("Activity");default:return""}}function ha(t){try{var r="";do r+=Po(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function df(t){var r=Vo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function fa(t){t._valueTracker||(t._valueTracker=df(t))}function ko(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function gt(t){return t.replace(mf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(t,r,a,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Wt(r)):t.value!==""+Wt(r)&&(t.value=""+Wt(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?dr(t,E,Wt(r)):a!=null?dr(t,E,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function ms(t,r,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Wt(a):"",r=r!=null?""+Wt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function dr(t,r,a){r==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ke(t,r,a){if(r!=null&&(r=""+Wt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Wt(a):""}function ps(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Be(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Wt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Lo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ru(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ru(t,d,r[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oi=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Mi=null;function jo(t){var r=ti(t);if(r&&(t=r.stateNode)){var a=t[pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ko(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(t,!!a.multiple,r,!1)}}}var ri=!1;function Iu(t,r,a){if(ri)return t(r,a);ri=!0;try{var l=t(r);return l}finally{if(ri=!1,(xi!==null||Mi!==null)&&(Ec(),xi&&(r=xi,t=Mi,Mi=xi=null,jo(r),t)))for(r=0;r<t.length;r++)jo(t[r])}}function ys(t,r){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(zn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Rn=!1}var si=null,mr=null,Pi=null;function zo(){if(Pi)return Pi;var t,r=mr,a=r.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return Pi=h.slice(t,1<l?1-l:void 0)}function ai(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function Bo(){return!1}function Nt(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Bo,this.isPropagationStopped=Bo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Nt(He),vs=v({},He,{view:0,detail:0}),Cu=Nt(vs),pa,ga,li,Es=v({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(pa=t.screenX-li.screenX,ga=t.screenY-li.screenY):ga=pa=0,li=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),In=Nt(Es),Du=v({},Es,{dataTransfer:0}),yf=Nt(Du),Ts=v({},vs,{relatedTarget:0}),ya=Nt(Ts),qo=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Nt(qo),Nu=v({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Nt(Nu),_f=v({},He,{data:0}),Ho=Nt(_f),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xu[t])?!!r[t]:!1}function bs(){return Fo}var Mu=v({},vs,{key:function(t){if(t.key){var r=As[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ea=Nt(Mu),Pu=v({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Nt(Pu),Vi=v({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Vu=Nt(Vi),ku=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Nt(ku),Uu=v({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Nt(Uu),Jt=v({},He,{newState:0,oldState:0}),ju=Nt(Jt),zu=[9,13,27,32],ui=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!ui||c&&8<c&&11>=c),S=" ",z=!1;function Q(t,r){switch(t){case"keyup":return zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function bt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return t=r.data,t===S&&z?null:t;default:return null}}function Le(t,r){if(ke)return t==="compositionend"||!ui&&Q(t,r)?(t=zo(),Pi=mr=si=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ot[t.type]:r==="textarea"}function ki(t,r,a,l){xi?Mi?Mi.push(l):Mi=[l]:xi=l,r=Rc(r,"onChange"),0<r.length&&(a=new ma("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,ci=null;function $o(t){tv(t,0)}function Bu(t){var r=ni(t);if(ko(r))return t}function Ag(t,r){if(t==="change")return r}var bg=!1;if(zn){var vf;if(zn){var Ef="oninput"in document;if(!Ef){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Ef=typeof Sg.oninput=="function"}vf=Ef}else vf=!1;bg=vf&&(!document.documentMode||9<document.documentMode)}function wg(){Lt&&(Lt.detachEvent("onpropertychange",Rg),ci=Lt=null)}function Rg(t){if(t.propertyName==="value"&&Bu(ci)){var r=[];ki(r,ci,t,wn(t)),Iu($o,r)}}function Qb(t,r,a){t==="focusin"?(wg(),Lt=r,ci=a,Lt.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function Kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(ci)}function Yb(t,r){if(t==="click")return Bu(r)}function Xb(t,r){if(t==="input"||t==="change")return Bu(r)}function Zb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:Zb;function Qo(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(r,h)||!dn(t[h],r[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,r){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ds(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ds(t.document)}return r}function Tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Wb=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Af=null,Ko=null,bf=!1;function Og(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Aa==null||Aa!==ds(l)||(l=Aa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=Rc(Af,"onSelect"),0<l.length&&(r=new ma("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Aa)))}function Ss(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ba={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Sf={},xg={};zn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function ws(t){if(Sf[t])return Sf[t];if(!ba[t])return t;var r=ba[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in xg)return Sf[t]=r[a];return t}var Mg=ws("animationend"),Pg=ws("animationiteration"),Vg=ws("animationstart"),Jb=ws("transitionrun"),eS=ws("transitionstart"),tS=ws("transitioncancel"),kg=ws("transitionend"),Lg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Bn(t,r){Lg.set(t,r),jn(r,[t])}var Ug=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ha(r)},Ug.set(t,r),r)}return{value:t,source:r,stack:ha(r)}}var Dn=[],Sa=0,Rf=0;function qu(){for(var t=Sa,r=Rf=Sa=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&jg(a,h,d)}}function Hu(t,r,a,l){Dn[Sa++]=t,Dn[Sa++]=r,Dn[Sa++]=a,Dn[Sa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Hu(t,r,a,l),Fu(t)}function wa(t,r){return Hu(t,null,null,r),Fu(t)}function jg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Fu(t){if(50<vl)throw vl=0,Md=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ra={};function nS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new nS(t,r,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Gu(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")Cf(t)&&(E=1);else if(typeof t=="string")E=rw(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=mn(31,a,r,h),t.elementType=R,t.lanes=d,t;case N:return Rs(a.children,h,d,r);case F:E=8,h|=24;break;case L:return t=mn(12,a,r,h|2),t.elementType=L,t.lanes=d,t;case le:return t=mn(13,a,r,h),t.elementType=le,t.lanes=d,t;case ve:return t=mn(19,a,r,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case te:E=10;break e;case ie:E=9;break e;case he:E=11;break e;case P:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Rs(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function Df(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function Nf(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Ca=0,$u=null,Qu=0,Nn=[],On=0,Is=null,Ui=1,ji="";function Cs(t,r){Ia[Ca++]=Qu,Ia[Ca++]=$u,$u=t,Qu=r}function Bg(t,r,a){Nn[On++]=Ui,Nn[On++]=ji,Nn[On++]=Is,Is=t;var l=Ui;t=ji;var h=32-Ft(l)-1;l&=~(1<<h),a+=1;var d=32-Ft(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ui=1<<32-Ft(r)+h|a<<h|l,ji=d+t}else Ui=1<<d|a<<h|l,ji=t}function Of(t){t.return!==null&&(Cs(t,1),Bg(t,1,0))}function xf(t){for(;t===$u;)$u=Ia[--Ca],Ia[Ca]=null,Qu=Ia[--Ca],Ia[Ca]=null;for(;t===Is;)Is=Nn[--On],Nn[On]=null,ji=Nn[--On],Nn[On]=null,Ui=Nn[--On],Nn[On]=null}var en=null,ut=null,qe=!1,Ds=null,hi=!1,Mf=Error(s(519));function Ns(t){var r=Error(s(418,""));throw Zo(Cn(r,t)),Mf}function qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[pt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),ps(r,l.value,l.defaultValue,l.children),fa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||sv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Ic),r=!0):r=!1,r||Ns(t)}function Hg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:en=en.return}}function Yo(t){if(t!==en)return!1;if(!qe)return Hg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ns(t),Hg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Nr(t.type)?(t=Jd,Jd=null,ut=t):ut=r):ut=en?Hn(t.stateNode.nextSibling):null;return!0}function Xo(){ut=en=null,qe=!1}function Fg(){var t=Ds;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ds=null),t}function Zo(t){Ds===null?Ds=[t]:Ds.push(t)}var Pf=ne(null),Os=null,zi=null;function pr(t,r,a){re(Pf,r._currentValue),r._currentValue=a}function Bi(t){t._currentValue=Pf.current,oe(Pf)}function Vf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function kf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Vf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Wo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;dn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===Dt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&kf(r,t,a,l),r.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Os=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Gg(Os,t)}function Yu(t,r){return Os===null&&xs(t),Gg(t,r)}function Gg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else zi=zi.next=r;return a}var iS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},rS=i.unstable_scheduleCallback,sS=i.unstable_NormalPriority,wt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new iS,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&rS(sS,function(){t.controller.abort()})}var el=null,Uf=0,Da=0,Na=null;function aS(t,r){if(el===null){var a=el=[];Uf=0,Da=zd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then($g,$g),r}function $g(){if(--Uf===0&&el!==null){Na!==null&&(Na.status="fulfilled");var t=el;el=null,Da=0,Na=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function oS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qg=K.S;K.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&aS(t,r),Qg!==null&&Qg(t,r)};var Ms=ne(null);function jf(){var t=Ms.current;return t!==null?t:et.pooledCache}function Xu(t,r){r===null?re(Ms,Ms.current):re(Ms,r.pool)}function Kg(){var t=jf();return t===null?null:{parent:wt._currentValue,pool:t}}var tl=Error(s(460)),Yg=Error(s(474)),Zu=Error(s(542)),zf={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function Zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t}throw nl=r,tl}}var nl=null;function Wg(){if(nl===null)throw Error(s(459));var t=nl;return nl=null,t}function Jg(t){if(t===tl||t===Zu)throw Error(s(483))}var gr=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Fu(t),jg(t,null,a),r}return Hu(t,l,r,a),Fu(t)}function il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}function Hf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ff=!1;function rl(){if(Ff){var t=Na;if(t!==null)throw t}}function sl(t,r,a,l){Ff=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,E===null?d=q:E.next=q,E=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;E=0,X=q=I=null,T=d;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Ue&G)===G:(l&G)===G){G!==0&&G===Da&&(Ff=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ye=T;G=r;var Ze=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(Ze,J,G);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,G=typeof Te=="function"?Te.call(Ze,J,G):Te,G==null)break e;J=v({},J,G);break e;case 2:gr=!0}}G=T.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=$,I=J):X=X.next=$,E|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Rr|=E,t.lanes=E,t.memoizedState=J}}function ey(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ty(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],r)}var Oa=ne(null),Ju=ne(0);function ny(t,r){t=Ki,re(Ju,t),re(Oa,r),Ki=t|r.baseLanes}function Gf(){re(Ju,Ki),re(Oa,Oa.current)}function $f(){Ki=Ju.current,oe(Oa),oe(Ju)}var vr=0,Ie=null,Ye=null,yt=null,ec=!1,xa=!1,Ps=!1,tc=0,al=0,Ma=null,lS=0;function ft(){throw Error(s(321))}function Qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function Kf(t,r,a,l,h,d){return vr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?jy:zy,Ps=!1,d=a(l,h),Ps=!1,xa&&(d=ry(r,a,l,h)),iy(t),d}function iy(t){K.H=oc;var r=Ye!==null&&Ye.next!==null;if(vr=0,yt=Ye=Ie=null,ec=!1,al=0,Ma=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&Ku(t)&&(xt=!0))}function ry(t,r,a,l){Ie=t;var h=0;do{if(xa&&(Ma=null),al=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=pS,d=r(a,l)}while(xa);return d}function uS(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?ol(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Yf(){var t=tc!==0;return tc=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Zf(t){if(ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ec=!1}vr=0,yt=Ye=Ie=null,xa=!1,al=tc=0,Ma=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=yt===null?Ie.memoizedState:yt.next;if(r!==null)yt=r,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var r=al;return al+=1,Ma===null&&(Ma=[]),t=Zg(Ma,t,r),r=Ie,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?jy:zy),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===te)return Gt(t)}throw Error(s(438,String(t)))}function Jf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Wf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function qi(t,r){return typeof r=="function"?r(t):r}function ic(t){var r=_t();return ed(r,Ye,t)}function ed(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=E=null,I=null,q=r,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ue&J)===J:(vr&J)===J){var G=q.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Da&&(X=!0);else if((vr&G)===G){q=q.next,G===Da&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=J,E=d):I=I.next=J,Ie.lanes|=G,Rr|=G;J=q.action,Ps&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else G={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=G,E=d):I=I.next=G,Ie.lanes|=J,Rr|=J;q=q.next}while(q!==null&&q!==r);if(I===null?E=d:I.next=T,!dn(d,t.memoizedState)&&(xt=!0,X&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);dn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(t,r,a){var l=Ie,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!dn((Ye||h).memoizedState,a);E&&(h.memoizedState=a,xt=!0),h=h.queue;var T=ly.bind(null,l,h,t);if(ll(2048,8,T,[t]),h.getSnapshot!==r||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,rc(),oy.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(vr&124)!==0||ay(l,r,a)}return a}function ay(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Wf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function oy(t,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(t)}function ly(t,r,a){return a(function(){uy(r)&&cy(t)})}function uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function cy(t){var r=wa(t,2);r!==null&&vn(r,t,2)}function nd(t){var r=tn();if(typeof t=="function"){var a=t;if(t=a(),Ps){hn(!0);try{a()}finally{hn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},r}function hy(t,r,a,l){return t.baseState=a,ed(t,Ye,typeof l=="function"?l:qi)}function cS(t,r,a,l,h){if(ac(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=K.T,E={};K.T=E;try{var T=a(h,l),I=K.S;I!==null&&I(E,T),dy(t,r,T)}catch(q){id(t,r,q)}finally{K.T=d}}else try{d=a(h,l),dy(t,r,d)}catch(q){id(t,r,q)}}function dy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,r,l)},function(l){return id(t,r,l)}):my(t,r,a)}function my(t,r,a){r.status="fulfilled",r.value=a,py(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,fy(t,a)))}function id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}t.action=null}function py(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function gy(t,r){return r}function yy(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var h=ut,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=ky.bind(null,Ie,l),l.dispatch=a,l=nd(!1),d=ld.bind(null,Ie,!1,l.queue),l=tn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=cS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function _y(t){var r=_t();return vy(r,Ye,t)}function vy(t,r,a){if(r=ed(t,r,gy)[0],t=ic(qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(E){throw E===tl?Zu:E}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Pa(9,rc(),hS.bind(null,h,a),null)),[l,d,t]}function hS(t,r){t.action=r}function Ey(t){var r=_t(),a=Ye;if(a!==null)return vy(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Wf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function rc(){return{destroy:void 0,resource:void 0}}function Ty(){return _t().memoizedState}function sc(t,r,a,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Pa(1|r,rc(),a,l)}function ll(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Qf(l,Ye.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(Ie.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function Ay(t,r){sc(8390656,8,t,r)}function by(t,r){ll(2048,8,t,r)}function Sy(t,r){return ll(4,2,t,r)}function wy(t,r){return ll(4,4,t,r)}function Ry(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Iy(t,r,a){a=a!=null?a.concat([t]):null,ll(4,4,Ry.bind(null,r,t),a)}function rd(){}function Cy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Dy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Qf(r,l[1]))return l[0];if(l=t(),Ps){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l}function sd(t,r,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=x_(),Ie.lanes|=t,Rr|=t,a)}function Ny(t,r,a,l){return dn(a,r)?a:Oa.current!==null?(t=sd(t,a,l),dn(t,r)||(xt=!0),t):(vr&42)===0?(xt=!0,t.memoizedState=a):(t=x_(),Ie.lanes|=t,Rr|=t,r)}function Oy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,ld(t,!1,r,a);try{var I=h(),q=K.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=oS(I,l);ul(t,r,X,_n(t))}else ul(t,r,l,_n(t))}catch(J){ul(t,r,{then:function(){},status:"rejected",reason:J},_n())}finally{ae.p=d,K.T=E}}function fS(){}function ad(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=xy(t).queue;Oy(t,h,r,de,a===null?fS:function(){return My(t),a(l)})}function xy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function My(t){var r=xy(t).next.queue;ul(t,r,{},_n())}function od(){return Gt(Il)}function Py(){return _t().memoizedState}function Vy(){return _t().memoizedState}function dS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=yr(a);var l=_r(r,t,a);l!==null&&(vn(l,r,a),il(l,r,a)),r={cache:Lf()},t.payload=r;return}r=r.return}}function mS(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?Ly(r,a):(a=If(t,r,a,l),a!==null&&(vn(a,t,l),Uy(a,r,l)))}function ky(t,r,a){var l=_n();ul(t,r,a,l)}function ul(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Ly(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,E))return Hu(t,r,h,0),et===null&&qu(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return vn(a,t,l),Uy(a,r,l),!0}return!1}function ld(t,r,a,l){if(l={lane:2,revertLane:zd(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&vn(r,t,2)}function ac(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function Ly(t,r){xa=ec=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Uy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}var oc={readContext:Gt,use:nc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},jy={readContext:Gt,use:nc,useCallback:function(t,r){return tn().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:Ay,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,sc(4194308,4,Ry.bind(null,r,t),a)},useLayoutEffect:function(t,r){return sc(4194308,4,t,r)},useInsertionEffect:function(t,r){sc(4,2,t,r)},useMemo:function(t,r){var a=tn();r=r===void 0?null:r;var l=t();if(Ps){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=tn();if(a!==void 0){var h=a(r);if(Ps){hn(!0);try{a(r)}finally{hn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=tn();return t={current:t},r.memoizedState=t},useState:function(t){t=nd(t);var r=t.queue,a=ky.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,r){var a=tn();return sd(a,t,r)},useTransition:function(){var t=nd(!1);return t=Oy.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=tn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||ay(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ay(ly.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,rc(),oy.bind(null,l,d,a,r),null),a},useId:function(){var t=tn(),r=et.identifierPrefix;if(qe){var a=ji,l=Ui;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,r=""+r+"R"+a,a=tc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=lS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:od,useFormState:yy,useActionState:yy,useOptimistic:function(t){var r=tn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ld.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Jf,useCacheRefresh:function(){return tn().memoizedState=dS.bind(null,Ie)}},zy={readContext:Gt,use:nc,useCallback:Cy,useContext:Gt,useEffect:by,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Dy,useReducer:ic,useRef:Ty,useState:function(){return ic(qi)},useDebugValue:rd,useDeferredValue:function(t,r){var a=_t();return Ny(a,Ye.memoizedState,t,r)},useTransition:function(){var t=ic(qi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:sy,useId:Py,useHostTransitionStatus:od,useFormState:_y,useActionState:_y,useOptimistic:function(t,r){var a=_t();return hy(a,Ye,t,r)},useMemoCache:Jf,useCacheRefresh:Vy},pS={readContext:Gt,use:nc,useCallback:Cy,useContext:Gt,useEffect:by,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Dy,useReducer:td,useRef:Ty,useState:function(){return td(qi)},useDebugValue:rd,useDeferredValue:function(t,r){var a=_t();return Ye===null?sd(a,t,r):Ny(a,Ye.memoizedState,t,r)},useTransition:function(){var t=td(qi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:sy,useId:Py,useHostTransitionStatus:od,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=_t();return Ye!==null?hy(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Vy},Va=null,cl=0;function lc(t){var r=cl;return cl+=1,Va===null&&(Va=[]),Zg(Va,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function uc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function By(t){var r=t._init;return r(t._payload)}function qy(t){function r(j,V){if(t){var B=j.deletions;B===null?(j.deletions=[V],j.flags|=16):B.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Li(j,V),j.index=0,j.sibling=null,j}function d(j,V,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<V?(j.flags|=67108866,V):B):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,B,Z){return V===null||V.tag!==6?(V=Df(B,j.mode,Z),V.return=j,V):(V=h(V,B),V.return=j,V)}function I(j,V,B,Z){var fe=B.type;return fe===N?X(j,V,B.props.children,Z,B.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&By(fe)===V.type)?(V=h(V,B.props),hl(V,B),V.return=j,V):(V=Gu(B.type,B.key,B.props,null,j.mode,Z),hl(V,B),V.return=j,V)}function q(j,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Nf(B,j.mode,Z),V.return=j,V):(V=h(V,B.children||[]),V.return=j,V)}function X(j,V,B,Z,fe){return V===null||V.tag!==7?(V=Rs(B,j.mode,Z,fe),V.return=j,V):(V=h(V,B),V.return=j,V)}function J(j,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Df(""+V,j.mode,B),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return B=Gu(V.type,V.key,V.props,null,j.mode,B),hl(B,V),B.return=j,B;case D:return V=Nf(V,j.mode,B),V.return=j,V;case w:var Z=V._init;return V=Z(V._payload),J(j,V,B)}if(Be(V)||U(V))return V=Rs(V,j.mode,B,null),V.return=j,V;if(typeof V.then=="function")return J(j,lc(V),B);if(V.$$typeof===te)return J(j,Yu(j,V),B);uc(j,V)}return null}function G(j,V,B,Z){var fe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(j,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===fe?I(j,V,B,Z):null;case D:return B.key===fe?q(j,V,B,Z):null;case w:return fe=B._init,B=fe(B._payload),G(j,V,B,Z)}if(Be(B)||U(B))return fe!==null?null:X(j,V,B,Z,null);if(typeof B.then=="function")return G(j,V,lc(B),Z);if(B.$$typeof===te)return G(j,V,Yu(j,B),Z);uc(j,B)}return null}function $(j,V,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(B)||null,T(V,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return j=j.get(Z.key===null?B:Z.key)||null,I(V,j,Z,fe);case D:return j=j.get(Z.key===null?B:Z.key)||null,q(V,j,Z,fe);case w:var Oe=Z._init;return Z=Oe(Z._payload),$(j,V,B,Z,fe)}if(Be(Z)||U(Z))return j=j.get(B)||null,X(V,j,Z,fe,null);if(typeof Z.then=="function")return $(j,V,B,lc(Z),fe);if(Z.$$typeof===te)return $(j,V,B,Yu(V,Z),fe);uc(V,Z)}return null}function Te(j,V,B,Z){for(var fe=null,Oe=null,me=V,_e=V=0,Pt=null;me!==null&&_e<B.length;_e++){me.index>_e?(Pt=me,me=null):Pt=me.sibling;var ze=G(j,me,B[_e],Z);if(ze===null){me===null&&(me=Pt);break}t&&me&&ze.alternate===null&&r(j,me),V=d(ze,V,_e),Oe===null?fe=ze:Oe.sibling=ze,Oe=ze,me=Pt}if(_e===B.length)return a(j,me),qe&&Cs(j,_e),fe;if(me===null){for(;_e<B.length;_e++)me=J(j,B[_e],Z),me!==null&&(V=d(me,V,_e),Oe===null?fe=me:Oe.sibling=me,Oe=me);return qe&&Cs(j,_e),fe}for(me=l(me);_e<B.length;_e++)Pt=$(me,j,_e,B[_e],Z),Pt!==null&&(t&&Pt.alternate!==null&&me.delete(Pt.key===null?_e:Pt.key),V=d(Pt,V,_e),Oe===null?fe=Pt:Oe.sibling=Pt,Oe=Pt);return t&&me.forEach(function(Vr){return r(j,Vr)}),qe&&Cs(j,_e),fe}function ye(j,V,B,Z){if(B==null)throw Error(s(151));for(var fe=null,Oe=null,me=V,_e=V=0,Pt=null,ze=B.next();me!==null&&!ze.done;_e++,ze=B.next()){me.index>_e?(Pt=me,me=null):Pt=me.sibling;var Vr=G(j,me,ze.value,Z);if(Vr===null){me===null&&(me=Pt);break}t&&me&&Vr.alternate===null&&r(j,me),V=d(Vr,V,_e),Oe===null?fe=Vr:Oe.sibling=Vr,Oe=Vr,me=Pt}if(ze.done)return a(j,me),qe&&Cs(j,_e),fe;if(me===null){for(;!ze.done;_e++,ze=B.next())ze=J(j,ze.value,Z),ze!==null&&(V=d(ze,V,_e),Oe===null?fe=ze:Oe.sibling=ze,Oe=ze);return qe&&Cs(j,_e),fe}for(me=l(me);!ze.done;_e++,ze=B.next())ze=$(me,j,_e,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?_e:ze.key),V=d(ze,V,_e),Oe===null?fe=ze:Oe.sibling=ze,Oe=ze);return t&&me.forEach(function(gw){return r(j,gw)}),qe&&Cs(j,_e),fe}function Ze(j,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var fe=B.key;V!==null;){if(V.key===fe){if(fe=B.type,fe===N){if(V.tag===7){a(j,V.sibling),Z=h(V,B.props.children),Z.return=j,j=Z;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&By(fe)===V.type){a(j,V.sibling),Z=h(V,B.props),hl(Z,B),Z.return=j,j=Z;break e}a(j,V);break}else r(j,V);V=V.sibling}B.type===N?(Z=Rs(B.props.children,j.mode,Z,B.key),Z.return=j,j=Z):(Z=Gu(B.type,B.key,B.props,null,j.mode,Z),hl(Z,B),Z.return=j,j=Z)}return E(j);case D:e:{for(fe=B.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(j,V.sibling),Z=h(V,B.children||[]),Z.return=j,j=Z;break e}else{a(j,V);break}else r(j,V);V=V.sibling}Z=Nf(B,j.mode,Z),Z.return=j,j=Z}return E(j);case w:return fe=B._init,B=fe(B._payload),Ze(j,V,B,Z)}if(Be(B))return Te(j,V,B,Z);if(U(B)){if(fe=U(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ye(j,V,B,Z)}if(typeof B.then=="function")return Ze(j,V,lc(B),Z);if(B.$$typeof===te)return Ze(j,V,Yu(j,B),Z);uc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(j,V.sibling),Z=h(V,B),Z.return=j,j=Z):(a(j,V),Z=Df(B,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,V)}return function(j,V,B,Z){try{cl=0;var fe=Ze(j,V,B,Z);return Va=null,fe}catch(me){if(me===tl||me===Zu)throw me;var Oe=mn(29,me,null,j.mode);return Oe.lanes=Z,Oe.return=j,Oe}finally{}}}var ka=qy(!0),Hy=qy(!1),xn=ne(null),fi=null;function Er(t){var r=t.alternate;re(Rt,Rt.current&1),re(xn,t),fi===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(fi=t)}function Fy(t){if(t.tag===22){if(re(Rt,Rt.current),re(xn,t),fi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fi=t)}}else Tr()}function Tr(){re(Rt,Rt.current),re(xn,xn.current)}function Hi(t){oe(xn),fi===t&&(fi=null),oe(Rt)}var Rt=ne(0);function cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ud(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=yr(l);h.payload=r,a!=null&&(h.callback=a),r=_r(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=yr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=_r(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=yr(a);l.tag=2,r!=null&&(l.callback=r),r=_r(t,l,a),r!==null&&(vn(r,t,a),il(r,t,a))}};function Gy(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function $y(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&cd.enqueueReplaceState(r,r.state,null)}function Vs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qy(t){hc(t)}function Ky(t){console.error(t)}function Yy(t){hc(t)}function fc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(t,r,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,r)},a}function Zy(t){return t=yr(t),t.tag=3,t}function Wy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Xy(r,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function gS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Wo(r,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return fi===null?Vd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ld(t,l,h)),!1;case 22:return a.flags|=65536,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ld(t,l,h)),!1}throw Error(s(435,a.tag))}return Ld(t,l,h),Vd(),!1}if(qe)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),Zo(Cn(t,a)))):(l!==Mf&&(r=Error(s(423),{cause:l}),Zo(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=hd(t.stateNode,l,h),Hf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),_l===null?_l=[d]:_l.push(d),ct!==4&&(ct=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),Wy(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),xt=!1;function Ut(t,r,a,l){r.child=t===null?Hy(r,null,a,l):ka(r,t.child,a,l)}function e_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return xs(r),l=Kf(t,r,a,E,d,h),T=Yf(),t!==null&&!xt?(Xf(t,r,h),Fi(t,r,h)):(qe&&T&&Of(r),r.flags|=1,Ut(t,r,l,h),r.child)}function t_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,n_(t,r,d,l,h)):(t=Gu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!vd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&t.ref===r.ref)return Fi(t,r,h)}return r.flags|=1,t=Li(d,l),t.ref=r.ref,t.return=r,r.child=t}function n_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===r.ref)if(xt=!1,r.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,Fi(t,r,h)}return fd(t,r,a,l,h)}function i_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return r_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(r,d!==null?d.cachePool:null),d!==null?ny(r,d):Gf(),Fy(r);else return r.lanes=r.childLanes=536870912,r_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xu(r,d.cachePool),ny(r,d),Tr(),r.memoizedState=null):(t!==null&&Xu(r,null),Gf(),Tr());return Ut(t,r,h,a),r.child}function r_(t,r,a,l){var h=jf();return h=h===null?null:{parent:wt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(r,null),Gf(),Fy(r),t!==null&&Wo(t,r,l,!0),null}function dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function fd(t,r,a,l,h){return xs(r),a=Kf(t,r,a,l,void 0,h),l=Yf(),t!==null&&!xt?(Xf(t,r,h),Fi(t,r,h)):(qe&&l&&Of(r),r.flags|=1,Ut(t,r,a,h),r.child)}function s_(t,r,a,l,h,d){return xs(r),r.updateQueue=null,a=ry(r,l,a,h),iy(t),l=Yf(),t!==null&&!xt?(Xf(t,r,d),Fi(t,r,d)):(qe&&l&&Of(r),r.flags|=1,Ut(t,r,a,d),r.child)}function a_(t,r,a,l,h){if(xs(r),r.stateNode===null){var d=Ra,E=a.contextType;typeof E=="object"&&E!==null&&(d=Gt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Bf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Gt(E):Ra,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ud(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&cd.enqueueReplaceState(d,d.state,null),sl(r,l,d,h),rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Vs(a,T);d.props=I;var q=d.context,X=a.contextType;E=Ra,typeof X=="object"&&X!==null&&(E=Gt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&$y(r,d,l,E),gr=!1;var G=r.memoizedState;d.state=G,sl(r,l,d,h),rl(),q=r.memoizedState,T||G!==q||gr?(typeof J=="function"&&(ud(r,a,J,l),q=r.memoizedState),(I=gr||Gy(r,a,I,l,G,q,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,qf(t,r),E=r.memoizedProps,X=Vs(a,E),d.props=X,J=r.pendingProps,G=d.context,q=a.contextType,I=Ra,typeof q=="object"&&q!==null&&(I=Gt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||G!==I)&&$y(r,d,l,I),gr=!1,G=r.memoizedState,d.state=G,sl(r,l,d,h),rl();var $=r.memoizedState;E!==J||G!==$||gr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(ud(r,a,T,l),$=r.memoizedState),(X=gr||Gy(r,a,X,l,G,$,I)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,dc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ka(r,t.child,null,h),r.child=ka(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Fi(t,r,h),t}function o_(t,r,a,l){return Xo(),r.flags|=256,Ut(t,r,a,l),r.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:Kg()}}function pd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function l_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Er(r):Tr(),qe){var T=ut,I;if(I=T){e:{for(I=T,T=hi;I.nodeType!==8;){if(!T){T=null;break e}if(I=Hn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},I=mn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,en=r,ut=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Wd(T)?r.lanes=32:r.lanes=536870912,null;Hi(r)}return T=l.children,l=l.fallback,h?(Tr(),h=r.mode,T=mc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=md(a),h.childLanes=pd(t,E,a),r.memoizedState=dd,l):(Er(r),gd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Er(r),r.flags&=-257,r=yd(t,r,a)):r.memoizedState!==null?(Tr(),r.child=t.child,r.flags|=128,r=null):(Tr(),h=l.fallback,T=r.mode,l=mc({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ka(r,t.child,null,a),l=r.child,l.memoizedState=md(a),l.childLanes=pd(t,E,a),r.memoizedState=dd,r=h);else if(Er(r),Wd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),r=yd(t,r,a)}else if(xt||Wo(t,r,a,!1),E=(a&t.childLanes)!==0,xt||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:lr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,wa(t,l),vn(E,t,l),Jy;T.data==="$?"||Vd(),r=yd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ut=Hn(T.nextSibling),en=r,qe=!0,Ds=null,hi=!1,t!==null&&(Nn[On++]=Ui,Nn[On++]=ji,Nn[On++]=Is,Ui=t.id,ji=t.overflow,Is=r),r=gd(r,l.children),r.flags|=4096);return r}return h?(Tr(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Li(q,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=md(a):(I=T.cachePool,I!==null?(q=wt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Kg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=pd(t,E,a),r.memoizedState=dd,l):(Er(r),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function gd(t,r){return r=mc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function mc(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yd(t,r,a){return ka(r,t.child,null,a),t=gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function u_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Vf(t.return,r,a)}function _d(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function c_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,a,r);else if(t.tag===19)u_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Rt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_d(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(r,!0,a,null,d);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Wo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Li(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function vd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function yS(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),pr(r,wt,t.memoizedState.cache),Xo();break;case 27:case 5:or(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l_(t,r,a):(Er(r),t=Fi(t,r,a),t!==null?t.sibling:null);Er(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Wo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return c_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,i_(t,r,a);case 24:pr(r,wt,t.memoizedState.cache)}return Fi(t,r,a)}function h_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!vd(t,a)&&(r.flags&128)===0)return xt=!1,yS(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,qe&&(r.flags&1048576)!==0&&Bg(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Cf(l)?(t=Vs(l,t),r.tag=1,r=a_(null,r,l,t,a)):(r.tag=0,r=fd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){r.tag=11,r=e_(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=t_(null,r,l,t,a);break e}}throw r=st(l)||l,Error(s(306,r,""))}}return r;case 0:return fd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Vs(l,r.pendingProps),a_(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,qf(t,r),sl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,pr(r,wt,l),l!==d.cache&&kf(r,[wt],a,!0),rl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),Zo(h),r=o_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Hn(t.firstChild),en=r,qe=!0,Ds=null,hi=!0,a=Hy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){r=Fi(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return dc(t,r),t===null?(a=pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Cc(be.current).createElement(a),l[At]=r,l[pt]=t,zt(l,a,t),ht(l),r.stateNode=l):r.memoizedState=pv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return or(r),t===null&&qe&&(l=r.stateNode=fv(r.type,r.pendingProps,be.current),en=r,hi=!0,h=ut,Nr(r.type)?(Jd=h,ut=Hn(l.firstChild)):ut=h),Ut(t,r,r.pendingProps.children,a),dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=GS(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,en=r,ut=Hn(l.firstChild),hi=!1,h=!0):h=!1),h||Ns(r)),or(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Yd(h,d)?l=null:E!==null&&Yd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Kf(t,r,uS,null,null,a),Il._currentValue=h),dc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=$S(a,r.pendingProps,hi),a!==null?(r.stateNode=a,en=r,ut=null,t=!0):t=!1),t||Ns(r)),null;case 13:return l_(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ka(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return e_(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pr(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,xs(r),h=Gt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return t_(t,r,r.type,r.pendingProps,a);case 15:return n_(t,r,r.type,r.pendingProps,a);case 19:return c_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=mc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Li(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return i_(t,r,a);case 24:return xs(r),l=Gt(wt),t===null?(h=jf(),h===null&&(h=et,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Bf(r),pr(r,wt,h)):((t.lanes&a)!==0&&(qf(t,r),sl(r,null,null,a),rl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pr(r,wt,l)):(l=d.cache,pr(r,wt,l),l!==h.cache&&kf(r,[wt],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Gi(t){t.flags|=4}function f_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(r)){if(r=xn.current,r!==null&&((Ue&4194048)===Ue?fi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fi))throw nl=zf,Yg;t.flags|=8192}}function pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Do():536870912,t.lanes|=r,za|=r)}function fl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function _S(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(wt),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(r)?Gi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),at(r),null;case 26:return a=r.memoizedState,t===null?(Gi(r),a!==null?(at(r),f_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Gi(r),at(r),f_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&Gi(r),at(r),r.flags&=-16777217),null;case 27:Si(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=ge.current,Yo(r)?qg(r):(t=fv(h,l,a),r.stateNode=t,Gi(r))}return at(r),null;case 5:if(Si(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=ge.current,Yo(r))qg(r);else{switch(h=Cc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=r,t[pt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Yo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(t.nodeValue,a)),t||Ns(r)}else t=Cc(t).createTextNode(l),t[At]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),pc(r,r.updateQueue),at(r),null;case 4:return Jn(),t===null&&Fd(r.stateNode.containerInfo),at(r),null;case 10:return Bi(r.type),at(r),null;case 19:if(oe(Rt),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=cc(t),d!==null){for(r.flags|=128,fl(h,!1),t=d.updateQueue,r.updateQueue=t,pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)zg(a,t),a=a.sibling;return re(Rt,Rt.current&1|2),r.child}t=t.sibling}h.tail!==null&&An()>_c&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304)}else{if(!l)if(t=cc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,pc(r,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(r),null}else 2*An()-h.renderingStartTime>_c&&a!==536870912&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=An(),r.sibling=null,t=Rt.current,re(Rt,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return Hi(r),$f(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(wt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vS(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Bi(wt),Jn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Si(r),null;case 13:if(Hi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(Rt),null;case 4:return Jn(),null;case 10:return Bi(r.type),null;case 22:case 23:return Hi(r),$f(),t!==null&&oe(Ms),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Bi(wt),null;case 25:return null;default:return null}}function d_(t,r){switch(xf(r),r.tag){case 3:Bi(wt),Jn();break;case 26:case 27:case 5:Si(r);break;case 4:Jn();break;case 13:Hi(r);break;case 19:oe(Rt);break;case 10:Bi(r.type);break;case 22:case 23:Hi(r),$f(),t!==null&&oe(Ms);break;case 24:Bi(wt)}}function dl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function Ar(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=r;var I=a,q=T;try{q()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function m_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ty(r,a)}catch(l){We(t,t.return,l)}}}function p_(t,r,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function ml(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function di(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function g_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Ed(t,r,a){try{var l=t.stateNode;zS(l,t.type,a,r),l[pt]=r}catch(h){We(t,t.return,h)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ic));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ad(t,r,a),t=t.sibling;t!==null;)Ad(t,r,a),t=t.sibling}function gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,r,a),t=t.sibling;t!==null;)gc(t,r,a),t=t.sibling}function __(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[At]=t,r[pt]=a}catch(d){We(t,t.return,d)}}var $i=!1,dt=!1,bd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function ES(t,r){if(t=t.containerInfo,Qd=Pc,t=Ng(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,q=0,X=0,J=t,G=null;t:for(;;){for(var $;J!==a||h!==0&&J.nodeType!==3||(T=E+h),J!==d||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),($=J.firstChild)!==null;)G=J,J=$;for(;;){if(J===t)break t;if(G===a&&++q===h&&(T=E),G===d&&++X===l&&(I=E),($=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=$}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Pc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Vs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function E_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&dl(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){We(a,a.return,E)}else{var h=Vs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&m_(a),l&512&&ml(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(t,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&__(a);case 26:case 5:br(t,a),r===null&&l&4&&g_(a),l&512&&ml(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&b_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=DS.bind(null,a),QS(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){r=r!==null&&r.memoizedState!==null||dt,h=$i;var d=dt;$i=l,(dt=r)&&!d?Sr(t,a,(a.subtreeFlags&8772)!==0):br(t,a),$i=h,dt=d}break;case 30:break;default:br(t,a)}}function T_(t){var r=t.alternate;r!==null&&(t.alternate=null,T_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,nn=!1;function Qi(t,r,a){for(a=a.child;a!==null;)A_(t,r,a),a=a.sibling}function A_(t,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||di(a,r),Qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||di(a,r);var l=it,h=nn;Nr(a.type)&&(it=a.stateNode,nn=!1),Qi(t,r,a),bl(a.stateNode),it=l,nn=h;break;case 5:dt||di(a,r);case 6:if(l=it,h=nn,it=null,Qi(t,r,a),it=l,nn=h,it!==null)if(nn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:it!==null&&(nn?(t=it,cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):cv(it,a.stateNode));break;case 4:l=it,h=nn,it=a.stateNode.containerInfo,nn=!0,Qi(t,r,a),it=l,nn=h;break;case 0:case 11:case 14:case 15:dt||Ar(2,a,r),dt||Ar(4,a,r),Qi(t,r,a);break;case 1:dt||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,r,l)),Qi(t,r,a);break;case 21:Qi(t,r,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Qi(t,r,a),dt=l;break;default:Qi(t,r,a)}}function b_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){We(r,r.return,a)}}function TS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new v_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new v_),r;default:throw Error(s(435,t.tag))}}function Sd(t,r){var a=TS(t);r.forEach(function(l){var h=NS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){it=T.stateNode,nn=!1;break e}break;case 5:it=T.stateNode,nn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(it===null)throw Error(s(160));A_(d,E,h),it=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)S_(r,t),r=r.sibling}var qn=null;function S_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Ar(3,t,t.return),dl(3,t),Ar(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(dt||a===null||di(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(pn(r,t),gn(t),l&512&&(dt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[At]=t,ht(d),l=d;break e;case"link":var E=_v("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=_v("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,ht(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,t.type,t.stateNode):yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(dt||a===null||di(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(dt||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch($){We(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){We(t,t.return,$)}}break;case 3:if(Oc=null,h=qn,qn=Dc(r.containerInfo),pn(r,t),qn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(r.containerInfo)}catch($){We(t,t.return,$)}bd&&(bd=!1,w_(t));break;case 4:l=qn,qn=Dc(t.stateNode.containerInfo),pn(r,t),gn(t),qn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=$i,X=dt;if($i=q||h,dt=X||I,pn(r,t),dt=X,$i=q,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||$i||dt||ks(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){We(I,I.return,$)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch($){We(I,I.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);gc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Sn(E,""),a.flags&=-33);var T=Td(t);gc(t,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Td(t);Ad(t,q,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function br(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)E_(t,r.alternate,r),r=r.sibling}function ks(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),ks(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),ks(r);break;case 27:bl(r.stateNode);case 26:case 5:di(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}t=t.sibling}}function Sr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),dl(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ey(I[h],T)}catch(q){We(l,l.return,q)}}a&&E&64&&m_(d),ml(d,d.return);break;case 27:__(d);case 26:case 5:Sr(h,d,a),a&&l===null&&E&4&&g_(d),ml(d,d.return);break;case 12:Sr(h,d,a);break;case 13:Sr(h,d,a),a&&E&4&&b_(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),ml(d,d.return);break;case 30:break;default:Sr(h,d,a)}r=r.sibling}}function wd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function Rd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t))}function mi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(t,r,a,l),r=r.sibling}function R_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,a,l),h&2048&&dl(9,r);break;case 1:mi(t,r,a,l);break;case 3:mi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){mi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else mi(t,r,a,l);break;case 13:mi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mi(t,r,a,l):pl(t,r):d._visibility&2?mi(t,r,a,l):(d._visibility|=2,La(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&wd(E,r);break;case 24:mi(t,r,a,l),h&2048&&Rd(r.alternate,r);break;default:mi(t,r,a,l)}}function La(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,I=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:La(d,E,T,I,h),dl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?La(d,E,T,I,h):pl(d,E):(X._visibility|=2,La(d,E,T,I,h)),h&&q&2048&&wd(E.alternate,E);break;case 24:La(d,E,T,I,h),h&&q&2048&&Rd(E.alternate,E);break;default:La(d,E,T,I,h)}r=r.sibling}}function pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&wd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Rd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var gl=8192;function Ua(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 26:Ua(t),t.flags&gl&&t.memoizedState!==null&&aw(qn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var r=qn;qn=Dc(t.stateNode.containerInfo),Ua(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,Ua(t),gl=r):Ua(t));break;default:Ua(t)}}function C_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function yl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,N_(l,t)}C_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D_(t),t=t.sibling}function D_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,yc(t)):yl(t);break;default:yl(t)}}function yc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,N_(l,t)}C_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),yc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,yc(r));break;default:yc(r)}t=t.sibling}}function N_(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(T_(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var AS={getCacheForType:function(t){var r=Gt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},bS=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,xe=null,Ue=0,Qe=0,yn=null,wr=!1,ja=!1,Id=!1,Ki=0,ct=0,Rr=0,Ls=0,Cd=0,Mn=0,za=0,_l=null,rn=null,Dd=!1,Nd=0,_c=1/0,vc=null,Ir=null,jt=0,Cr=null,Ba=null,qa=0,Od=0,xd=null,O_=null,vl=0,Md=null;function _n(){if(($e&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var t=Da;return t!==0?t:zd()}return ur()}function x_(){Mn===0&&(Mn=(Ue&536870912)===0||qe?Co():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Mn}function vn(t,r,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Dr(t,Ue,Mn,!1)),Ri(t,a),(($e&2)===0||t!==et)&&(t===et&&(($e&2)===0&&(Ls|=a),ct===4&&Dr(t,Ue,Mn,!1)),pi(t))}function M_(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||us(t,r),h=l?RS(t,r):kd(t,r,!0),d=l;do{if(h===0){ja&&!l&&Dr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!SS(a)){h=kd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;h=_l;var I=T.current.memoizedState.isDehydrated;if(I&&(Ha(T,E).flags|=256),E=kd(T,E,!1),E!==2){if(Id&&!I){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),Dr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Mn,!wr);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Nd+300-An(),10<h)){if(Dr(l,r,Mn,!wr),aa(l,0,!0)!==0)break e;l.timeoutHandle=lv(P_.bind(null,l,a,rn,vc,Dd,r,Mn,Ls,za,wr,d,2,-0,0),h);break e}P_(l,a,rn,vc,Dd,r,Mn,Ls,za,wr,d,0,-0,0)}}break}while(!0);pi(t)}function P_(t,r,a,l,h,d,E,T,I,q,X,J,G,$){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:sw},I_(r),J=ow(),J!==null)){t.cancelPendingCommit=J(B_.bind(null,t,r,d,a,l,h,E,T,I,X,1,G,$)),Dr(t,d,E,!q);return}B_(t,r,d,a,l,h,E,T,I)}function SS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(t,r,a,l){r&=~Cd,r&=~Ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Ft(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&ei(t,a,r)}function Ec(){return($e&6)===0?(El(0),!1):!0}function Pd(){if(xe!==null){if(Qe===0)var t=xe.return;else t=xe,zi=Os=null,Zf(t),Va=null,cl=0,t=xe;for(;t!==null;)d_(t.alternate,t),t=t.return;xe=null}}function Ha(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pd(),et=t,xe=a=Li(t.current,null),Ue=r,Qe=0,yn=null,wr=!1,ja=us(t,r),Id=!1,za=Mn=Cd=Ls=Rr=ct=0,rn=_l=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Ft(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,qu(),a}function V_(t,r){Ie=null,K.H=oc,r===tl||r===Zu?(r=Wg(),Qe=3):r===Yg?(r=Wg(),Qe=4):Qe=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,xe===null&&(ct=1,fc(t,Cn(r,t.current)))}function k_(){var t=K.H;return K.H=oc,t===null?oc:t}function L_(){var t=K.A;return K.A=AS,t}function Vd(){ct=4,wr||(Ue&4194048)!==Ue&&xn.current!==null||(ja=!0),(Rr&134217727)===0&&(Ls&134217727)===0||et===null||Dr(et,Ue,Mn,!1)}function kd(t,r,a){var l=$e;$e|=2;var h=k_(),d=L_();(et!==t||Ue!==r)&&(vc=null,Ha(t,r)),r=!1;var E=ct;e:do try{if(Qe!==0&&xe!==null){var T=xe,I=yn;switch(Qe){case 8:Pd(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var q=Qe;if(Qe=0,yn=null,Fa(t,T,I,q),a&&ja){E=0;break e}break;default:q=Qe,Qe=0,yn=null,Fa(t,T,I,q)}}wS(),E=ct;break}catch(X){V_(t,X)}while(!0);return r&&t.shellSuspendCounter++,zi=Os=null,$e=l,K.H=h,K.A=d,xe===null&&(et=null,Ue=0,qu()),E}function wS(){for(;xe!==null;)U_(xe)}function RS(t,r){var a=$e;$e|=2;var l=k_(),h=L_();et!==t||Ue!==r?(vc=null,_c=An()+500,Ha(t,r)):ja=us(t,r);e:do try{if(Qe!==0&&xe!==null){r=xe;var d=yn;t:switch(Qe){case 1:Qe=0,yn=null,Fa(t,r,d,1);break;case 2:case 9:if(Xg(d)){Qe=0,yn=null,j_(r);break}r=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),pi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Xg(d)?(Qe=0,yn=null,j_(r)):(Qe=0,yn=null,Fa(t,r,d,7));break;case 5:var E=null;switch(xe.tag){case 26:E=xe.memoizedState;case 5:case 27:var T=xe;if(!E||Ev(E)){Qe=0,yn=null;var I=T.sibling;if(I!==null)xe=I;else{var q=T.return;q!==null?(xe=q,Tc(q)):xe=null}break t}}Qe=0,yn=null,Fa(t,r,d,5);break;case 6:Qe=0,yn=null,Fa(t,r,d,6);break;case 8:Pd(),ct=6;break e;default:throw Error(s(462))}}IS();break}catch(X){V_(t,X)}while(!0);return zi=Os=null,K.H=l,K.A=h,$e=a,xe!==null?0:(et=null,Ue=0,qu(),ct)}function IS(){for(;xe!==null&&!So();)U_(xe)}function U_(t){var r=h_(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?Tc(t):xe=r}function j_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=s_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=s_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Zf(r);default:d_(a,r),r=xe=zg(r,Ki),r=h_(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?Tc(t):xe=r}function Fa(t,r,a,l){zi=Os=null,Zf(r),Va=null,cl=0;var h=r.return;try{if(gS(t,h,r,a,Ue)){ct=1,fc(t,Cn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ct=1,fc(t,Cn(a,t.current)),xe=null;return}r.flags&32768?(qe||l===1?t=!0:ja||(Ue&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),z_(r,t)):Tc(r)}function Tc(t){var r=t;do{if((r.flags&32768)!==0){z_(r,wr);return}t=r.return;var a=_S(r.alternate,r,Ki);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ct===0&&(ct=5)}function z_(t,r){do{var a=vS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function B_(t,r,a,l,h,d,E,T,I){t.cancelPendingCommit=null;do Ac();while(jt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Rf,No(t,a,d,E,T,I),t===et&&(xe=et=null,Ue=0),Ba=r,Cr=t,qa=a,Od=d,xd=h,O_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OS(ss,function(){return $_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,E=$e,$e|=4;try{ES(t,r,a)}finally{$e=E,ae.p=h,K.T=l}}jt=1,q_(),H_(),F_()}}function q_(){if(jt===1){jt=0;var t=Cr,r=Ba,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{S_(r,t);var d=Kd,E=Ng(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Dg(T.ownerDocument.documentElement,T)){if(I!==null&&Tf(T)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var $=G.getSelection(),Te=T.textContent.length,ye=Math.min(I.start,Te),Ze=I.end===void 0?ye:Math.min(I.end,Te);!$.extend&&ye>Ze&&(E=Ze,Ze=ye,ye=E);var j=Cg(T,ye),V=Cg(T,Ze);if(j&&V&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var B=J.createRange();B.setStart(j.node,j.offset),$.removeAllRanges(),ye>Ze?($.addRange(B),$.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),$.addRange(B))}}}}for(J=[],$=T;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Pc=!!Qd,Kd=Qd=null}finally{$e=h,ae.p=l,K.T=a}}t.current=r,jt=2}}function H_(){if(jt===2){jt=0;var t=Cr,r=Ba,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{E_(t,r.alternate,r)}finally{$e=h,ae.p=l,K.T=a}}jt=3}}function F_(){if(jt===4||jt===3){jt=0,yu();var t=Cr,r=Ba,a=qa,l=O_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Ba=Cr=null,G_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ir=null),oa(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=r,ae.p=h}}(qa&3)!==0&&Ac(),pi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Md?vl++:(vl=0,Md=t):vl=0,El(0)}}function G_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Jo(r)))}function Ac(t){return q_(),H_(),F_(),$_()}function $_(){if(jt!==5)return!1;var t=Cr,r=Od;Od=0;var a=oa(qa),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=xd,xd=null;var d=Cr,E=qa;if(jt=0,Ba=Cr=null,qa=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,D_(d.current),R_(d,d.current,E,a),$e=T,El(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ae.p=h,K.T=l,G_(t,r)}}function Q_(t,r,a){r=Cn(a,r),r=hd(t.stateNode,r,2),t=_r(t,r,2),t!==null&&(Ri(t,2),pi(t))}function We(t,r,a){if(t.tag===3)Q_(t,t,a);else for(;r!==null;){if(r.tag===3){Q_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){t=Cn(a,t),a=Zy(2),l=_r(r,a,2),l!==null&&(Wy(a,l,r,t),Ri(l,2),pi(l));break}}r=r.return}}function Ld(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=CS.bind(null,t,r,a),r.then(t,t))}function CS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>An()-Nd?($e&2)===0&&Ha(t,0):Cd|=a,za===Ue&&(za=0)),pi(t)}function K_(t,r){r===0&&(r=Do()),t=wa(t,r),t!==null&&(Ri(t,r),pi(t))}function DS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),K_(t,a)}function NS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),K_(t,a)}function OS(t,r){return is(t,r)}var bc=null,Ga=null,Ud=!1,Sc=!1,jd=!1,Us=0;function pi(t){t!==Ga&&t.next===null&&(Ga===null?bc=Ga=t:Ga=Ga.next=t),Sc=!0,Ud||(Ud=!0,MS())}function El(t,r){if(!jd&&Sc){jd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=Ue,d=aa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,W_(l,d));l=l.next}while(a);jd=!1}}function xS(){Y_()}function Y_(){Sc=Ud=!1;var t=0;Us!==0&&(BS()&&(t=Us),Us=0);for(var r=An(),a=null,l=bc;l!==null;){var h=l.next,d=X_(l,r);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}El(t)}function X_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Ft(d),T=1<<E,I=h[E];I===-1?((T&a)===0||(T&l)!==0)&&(h[E]=Io(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=Ue,a=aa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&rs(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=ss;break;case 268435456:a=sa;break;default:a=ss}return l=Z_.bind(null,t),a=is(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function Z_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Ue;return l=aa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M_(t,l,r),X_(t,An()),t.callbackNode!=null&&t.callbackNode===a?Z_.bind(null,t):null)}function W_(t,r){if(Ac())return null;M_(t,r,!0)}function MS(){HS(function(){($e&6)!==0?is(wo,xS):Y_()})}function zd(){return Us===0&&(Us=Co()),Us}function J_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function ev(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function PS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=J_((h[pt]||null).action),E=l.submitter;E&&(r=(r=E[pt]||null)?J_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ma("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=E?ev(h,E):new FormData(h);ad(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=E?ev(h,E):new FormData(h),ad(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Bd=0;Bd<wf.length;Bd++){var qd=wf[Bd],VS=qd.toLowerCase(),kS=qd[0].toUpperCase()+qd.slice(1);Bn(VS,"on"+kS)}Bn(Mg,"onAnimationEnd"),Bn(Pg,"onAnimationIteration"),Bn(Vg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Jb,"onTransitionRun"),Bn(eS,"onTransitionStart"),Bn(tS,"onTransitionCancel"),Bn(kg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function tv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){hc(X)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){hc(X)}h.currentTarget=null,d=I}}}}function Me(t,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=t+"__bubble";a.has(l)||(nv(r,t,2,!1),a.add(l))}function Hd(t,r,a){var l=0;r&&(l|=4),nv(a,t,l,r)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[wc]){t[wc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[wc]||(r[wc]=!0,Hd("selectionchange",!1,r))}}function nv(t,r,a,l){switch(Rv(r)){case 2:var h=cw;break;case 8:h=hw;break;default:h=rm}a=h.bind(null,r,a,t),h=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Gd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=Ii(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Iu(function(){var q=d,X=wn(a),J=[];e:{var G=Lg.get(t);if(G!==void 0){var $=ma,Te=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":$=Ea;break;case"focusin":Te="focus",$=ya;break;case"focusout":Te="blur",$=ya;break;case"beforeblur":case"afterblur":$=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Vu;break;case Mg:case Pg:case Vg:$=_a;break;case kg:$=Lu;break;case"scroll":case"scrollend":$=Cu;break;case"wheel":$=Ta;break;case"copy":case"cut":case"paste":$=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Go;break;case"toggle":case"beforetoggle":$=ju}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),j=ye?G!==null?G+"Capture":null:G;ye=[];for(var V=q,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||j===null||(Z=ys(V,j),Z!=null&&ye.push(Al(V,Z,B))),Ze)break;V=V.return}0<ye.length&&(G=new $(G,Te,null,a,X),J.push({event:G,listeners:ye}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Oi&&(Te=a.relatedTarget||a.fromElement)&&(Ii(Te)||Te[bn]))break e;if(($||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,$?(Te=a.relatedTarget||a.toElement,$=q,Te=Te?Ii(Te):null,Te!==null&&(Ze=u(Te),ye=Te.tag,Te!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):($=null,Te=q),$!==Te)){if(ye=In,Z="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Go,Z="onPointerLeave",j="onPointerEnter",V="pointer"),Ze=$==null?G:ni($),B=Te==null?G:ni(Te),G=new ye(Z,V+"leave",$,a,X),G.target=Ze,G.relatedTarget=B,Z=null,Ii(X)===q&&(ye=new ye(j,V+"enter",Te,a,X),ye.target=B,ye.relatedTarget=Ze,Z=ye),Ze=Z,$&&Te)t:{for(ye=$,j=Te,V=0,B=ye;B;B=$a(B))V++;for(B=0,Z=j;Z;Z=$a(Z))B++;for(;0<V-B;)ye=$a(ye),V--;for(;0<B-V;)j=$a(j),B--;for(;V--;){if(ye===j||j!==null&&ye===j.alternate)break t;ye=$a(ye),j=$a(j)}ye=null}else ye=null;$!==null&&iv(J,G,$,ye,!1),Te!==null&&Ze!==null&&iv(J,Ze,Te,ye,!0)}}e:{if(G=q?ni(q):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var fe=Ag;else if(St(G))if(bg)fe=Xb;else{fe=Kb;var Oe=Qb}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Uo(q.elementType)&&(fe=Ag):fe=Yb;if(fe&&(fe=fe(t,q))){ki(J,fe,a,X);break e}Oe&&Oe(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&dr(G,"number",G.value)}switch(Oe=q?ni(q):window,t){case"focusin":(St(Oe)||Oe.contentEditable==="true")&&(Aa=Oe,Af=q,Ko=null);break;case"focusout":Ko=Af=Aa=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Og(J,a,X);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":Og(J,a,X)}var me;if(ui)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?Q(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(me=zo()):(si=X,mr="value"in si?si.value:si.textContent,ke=!0)),Oe=Rc(q,_e),0<Oe.length&&(_e=new Ho(_e,t,null,a,X),J.push({event:_e,listeners:Oe}),me?_e.data=me:(me=se(a),me!==null&&(_e.data=me)))),(me=y?bt(t,a):Le(t,a))&&(_e=Rc(q,"onBeforeInput"),0<_e.length&&(Oe=new Ho("onBeforeInput","beforeinput",null,a,X),J.push({event:Oe,listeners:_e}),Oe.data=me)),PS(J,t,q,a,X)}tv(J,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Rc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(Al(t,h,d)),h=ys(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function iv(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=ys(a,d),q!=null&&E.unshift(Al(a,q,I))):h||(q=ys(a,d),q!=null&&E.push(Al(a,q,I)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var US=/\r\n?/g,jS=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(US,`
`).replace(jS,"")}function sv(t,r){return r=rv(r),rv(t)===r}function Ic(){}function Xe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(r!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pf.get(a)||a,fr(t,a,l))}}function $d(t,r,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,E,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=E=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Xe(t,r,l,X,a,null)}}ms(t,d,T,I,q,E,h,!1),fa(t);return;case"select":Me("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Xe(t,r,h,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Ni(t,!!l,r,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,r,E,T,a,null)}ps(t,l,h,d),fa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,q,l,a,null)}return;default:if(Uo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&$d(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,r,T,l,a,null))}function zS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,I=null,q=null,X=null;for($ in a){var J=a[$];if(a.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty($)||Xe(t,r,$,null,l,J)}}for(var G in l){var $=l[G];if(J=a[G],l.hasOwnProperty(G)&&($!=null||J!=null))switch(G){case"type":d=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":X=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==J&&Xe(t,r,G,$,l,J)}}fn(t,E,T,I,q,X,d,h);return;case"select":$=E=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==I&&Xe(t,r,h,d,l,I)}r=T,a=E,l=$,G!=null?Ni(t,!!a,G,!1):!!l!=!!a&&(r!=null?Ni(t,!!a,r,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,r,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":G=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,r,E,h,l,d)}Ke(t,G,$);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,r,Te,null,l,G)}for(I in l)if(G=l[I],$=a[I],l.hasOwnProperty(I)&&G!==$&&(G!=null||$!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xe(t,r,I,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Xe(t,r,ye,null,l,G);for(q in l)if(G=l[q],$=a[q],l.hasOwnProperty(q)&&G!==$&&(G!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Xe(t,r,q,G,l,$)}return;default:if(Uo(r)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&$d(t,r,Ze,void 0,l,G);for(X in l)G=l[X],$=a[X],!l.hasOwnProperty(X)||G===$||G===void 0&&$===void 0||$d(t,r,X,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Xe(t,r,j,null,l,G);for(J in l)G=l[J],$=a[J],!l.hasOwnProperty(J)||G===$||G==null&&$==null||Xe(t,r,J,G,l,$)}var Qd=null,Kd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Yd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function BS(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(t){return uv.resolve(null).then(t).catch(FS)}:lv;function FS(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function cv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&bl(E.documentElement),a&2&&bl(E.body),a&4)for(a=E.head,bl(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[cs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){t.removeChild(d),Ol(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(r)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function $S(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Jd=null;function hv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function fv(t,r,a){switch(r=Cc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hr(t)}var Pn=new Map,dv=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=ae.d;ae.d={f:KS,r:YS,D:XS,C:ZS,L:WS,m:JS,X:tw,S:ew,M:nw};function KS(){var t=Yi.f(),r=Ec();return t||r}function YS(t){var r=ti(t);r!==null&&r.tag===5&&r.type==="form"?My(r):Yi.r(t)}var Qa=typeof document>"u"?null:document;function mv(t,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var h=gt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function XS(t){Yi.D(t),mv("dns-prefetch",t,null)}function ZS(t,r){Yi.C(t,r),mv("preconnect",t,r)}function WS(t,r,a){Yi.L(t,r,a);var l=Qa;if(l&&t&&r){var h='link[rel="preload"][as="'+gt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(r){case"style":d=Ka(t);break;case"script":d=Ya(t)}Pn.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function JS(t,r){Yi.m(t,r);var a=Qa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Pn.has(d)&&(t=v({rel:"modulepreload",href:t},r),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),zt(l,"link",t),ht(l),a.head.appendChild(l)}}}function ew(t,r,a){Yi.S(t,r,a);var l=Qa;if(l&&t){var h=Zt(l).hoistableStyles,d=Ka(t);r=r||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Sl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(d))&&em(t,a);var I=E=l.createElement("link");ht(I),zt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function tw(t,r){Yi.X(t,r);var a=Qa;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=v({src:t,async:!0},r),(r=Pn.get(h))&&tm(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nw(t,r){Yi.M(t,r);var a=Qa;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=v({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&tm(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(t,r,a,l){var h=(h=be.current)?Dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Zt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Sl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||iw(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+gt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function iw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ht(r),t.head.appendChild(r))}function Ya(t){return'[src="'+gt(t)+'"]'}function wl(t){return"script[async]"+t}function yv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return r.instance=l,ht(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),Nc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(Sl(h));if(d)return r.state.loading|=4,r.instance=d,ht(d),d;l=gv(a),(h=Pn.get(h))&&em(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var E=d;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),zt(d,"link",l),r.state.loading|=4,Nc(d,a.precedence,t),r.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,ht(h),h):(l=a,(h=Pn.get(d))&&(l=v({},a),tm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Nc(l,a.precedence,t));return r.instance}function Nc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Oc=null;function _v(t,r,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function vv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function rw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function sw(){}function aw(t,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ht(d);return}d=t.ownerDocument||t,a=gv(a),(h=Pn.get(h))&&em(a,h),d=d.createElement("link"),ht(d);var E=d;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=xc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function ow(){if(Rl===null)throw Error(s(475));var t=Rl;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,r.forEach(lw,t),Mc=null,xc.call(t))}function lw(t,r){if(!(r.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Il={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function uw(t,r,a,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Tv(t,r,a,l,h,d,E,T,I,q,X,J){return t=new uw(t,r,a,E,T,I,q,J),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=Lf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Bf(d),t}function Av(t){return t?(t=Ra,t):Ra}function bv(t,r,a,l,h,d){h=Av(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,r),a!==null&&(vn(a,t,r),il(a,t,r))}function Sv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){Sv(t,r),(t=t.alternate)&&Sv(t,r)}function wv(t){if(t.tag===13){var r=wa(t,67108864);r!==null&&vn(r,t,67108864),im(t,67108864)}}var Pc=!0;function cw(t,r,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,rm(t,r,a,l)}finally{ae.p=d,K.T=h}}function hw(t,r,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,rm(t,r,a,l)}finally{ae.p=d,K.T=h}}function rm(t,r,a,l){if(Pc){var h=sm(l);if(h===null)Gd(t,r,l,Vc,a),Iv(t,l);else if(dw(h,t,r,a,l))l.stopPropagation();else if(Iv(t,l),r&4&&-1<fw.indexOf(t)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Ft(E);T.entanglements[1]|=I,E&=~I}pi(d),($e&6)===0&&(_c=An()+500,El(0))}}break;case 13:T=wa(d,2),T!==null&&vn(T,d,2),Ec(),im(d,2)}if(d=sm(l),d===null&&Gd(t,r,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,r,l,null,a)}}function sm(t){return t=wn(t),am(t)}var Vc=null;function am(t){if(Vc=null,t=Ii(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uf()){case wo:return 2;case ra:return 8;case ss:case cf:return 32;case sa:return 268435456;default:return 32}default:return 32}}var om=!1,Or=null,xr=null,Mr=null,Cl=new Map,Dl=new Map,Pr=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,r){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Nl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ti(r),r!==null&&wv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function dw(t,r,a,l,h){switch(r){case"focusin":return Or=Nl(Or,t,r,a,l,h),!0;case"dragenter":return xr=Nl(xr,t,r,a,l,h),!0;case"mouseover":return Mr=Nl(Mr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,r,a,l,h)),!0}return!1}function Cv(t){var r=Ii(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Eu(t.priority,function(){if(a.tag===13){var l=_n();l=lr(l);var h=wa(a,l);h!==null&&vn(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return r=ti(a),r!==null&&wv(r),t.blockedOn=a,!1;r.shift()}return!0}function Dv(t,r,a){kc(t)&&a.delete(r)}function mw(){om=!1,Or!==null&&kc(Or)&&(Or=null),xr!==null&&kc(xr)&&(xr=null),Mr!==null&&kc(Mr)&&(Mr=null),Cl.forEach(Dv),Dl.forEach(Dv)}function Lc(t,r){t.blockedOn===r&&(t.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mw)))}var Uc=null;function Nv(t){Uc!==t&&(Uc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=ti(a);d!==null&&(t.splice(r,3),r-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function r(I){return Lc(I,t)}Or!==null&&Lc(Or,t),xr!==null&&Lc(xr,t),Mr!==null&&Lc(Mr,t),Cl.forEach(r),Dl.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[pt]||null;if(typeof d=="function")E||Nv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[pt]||null)T=E.formAction;else if(am(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Nv(a)}}}function lm(t){this._internalRoot=t}jc.prototype.render=lm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();bv(a,l,t,r,null,null)},jc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;bv(t.current,2,null,t,null,null),Ec(),r[bn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ur();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&Cv(t)}};var Ov=e.version;if(Ov!=="19.1.0")throw Error(s(527,Ov,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var pw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{lt=zc.inject(pw),Ge=zc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Qy,d=Ky,E=Yy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Tv(t,1,!1,null,null,a,l,h,d,E,T,null),t[bn]=r.current,Fd(t),new lm(r)},Ml.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Qy,E=Ky,T=Yy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Tv(t,1,!0,r,a??null,l,h,d,E,T,I,q),r.context=Av(null),a=r.current,l=_n(),l=lr(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,r.current.lanes=a,Ri(r,a),pi(r),t[bn]=r.current,Fd(t),new jc(r)},Ml.version="19.1.0",Ml}var Bv;function Rw(){if(Bv)return hm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=ww(),hm.exports}var Iw=Rw();const Cw=fp(Iw);var Pl={},qv;function Dw(){if(qv)return Pl;qv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=f,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const N=new u,F=b.length;if(F<2)return N;const L=(D==null?void 0:D.decode)||v;let Y=0;do{const ie=b.indexOf("=",Y);if(ie===-1)break;const te=b.indexOf(";",Y),he=te===-1?F:te;if(ie>he){Y=b.lastIndexOf(";",ie-1)+1;continue}const le=m(b,Y,ie),ve=p(b,ie,le),P=b.slice(le,ve);if(N[P]===void 0){let w=m(b,ie+1,he),R=p(b,he,w);const x=L(b.slice(w,R));N[P]=x}Y=he+1}while(Y<F);return N}function m(b,D,N){do{const F=b.charCodeAt(D);if(F!==32&&F!==9)return D}while(++D<N);return N}function p(b,D,N){for(;D>N;){const F=b.charCodeAt(--D);if(F!==32&&F!==9)return D+1}return N}function g(b,D,N){const F=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const L=F(D);if(!e.test(L))throw new TypeError(`argument val is invalid: ${D}`);let Y=b+"="+L;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Pl}Dw();var Hv="popstate";function Nw(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Xs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),km("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Ql(u))}function s(o,u){kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xw(e,n,s,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function kn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ow(){return Math.random().toString(36).substring(2,10)}function Fv(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||s||Ow()}}function Ql({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Xs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function xw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=v(),Y=L==null?null:L-g;g=L,p&&p({action:m,location:F.location,delta:Y})}function b(L,Y){m="PUSH";let ie=km(F.location,L,Y);n&&n(ie,L),g=v()+1;let te=Fv(ie,g),he=F.createHref(ie);try{f.pushState(te,"",he)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(he)}u&&p&&p({action:m,location:F.location,delta:1})}function D(L,Y){m="REPLACE";let ie=km(F.location,L,Y);n&&n(ie,L),g=v();let te=Fv(ie,g),he=F.createHref(ie);f.replaceState(te,"",he),u&&p&&p({action:m,location:F.location,delta:0})}function N(L){return Mw(L)}let F={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,A),p=L,()=>{o.removeEventListener(Hv,A),p=null}},createHref(L){return e(o,L)},createURL:N,encodeLocation(L){let Y=N(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:D,go(L){return f.go(L)}};return F}function Mw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ql(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function P0(i,e,n="/"){return Pw(i,e,n,!1)}function Pw(i,e,n,s){let o=typeof e=="string"?Xs(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=V0(i);Vw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=$w(u);m=Fw(f[p],g,s)}return m}function V0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),V0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:qw(g,u.index),routesMeta:v})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of k0(u.path))o(u,f,p)}),e}function k0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=k0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Vw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Hw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kw=/^:[\w-]+$/,Lw=3,Uw=2,jw=1,zw=10,Bw=-2,Gv=i=>i==="*";function qw(i,e){let n=i.split("/"),s=n.length;return n.some(Gv)&&(s+=Bw),e&&(s+=Uw),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(kw.test(u)?Lw:u===""?jw:zw),s)}function Hw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Fw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:er([u,A.pathname]),pathnameBase:Xw(er([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=er([u,A.pathnameBase]))}return f}function oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Gw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:A},b)=>{if(v==="*"){let N=m[b]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[b];return A&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Gw(i,e=!1,n=!0){kn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $w(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function nr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Qw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Xs(i):i;return{pathname:n?n.startsWith("/")?n:Kw(n,e):e,search:Zw(s),hash:Ww(o)}}function Kw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mp(i){let e=Yw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pp(i,e,n,s=!1){let o;typeof i=="string"?o=Xs(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),pm("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),pm("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),pm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let p=Qw(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var er=i=>i.join("/").replace(/\/\/+/g,"/"),Xw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ww=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Jw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var eR=["GET",...L0];new Set(eR);var mo=H.createContext(null);mo.displayName="DataRouter";var Ch=H.createContext(null);Ch.displayName="DataRouterState";var U0=H.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var tR=H.createContext(new Map);tR.displayName="Fetchers";var nR=H.createContext(null);nR.displayName="Await";var Xn=H.createContext(null);Xn.displayName="Navigation";var su=H.createContext(null);su.displayName="Location";var Zn=H.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var gp=H.createContext(null);gp.displayName="RouteError";function iR(i,{relative:e}={}){rt(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Xn),{hash:o,pathname:u,search:f}=au(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return H.useContext(su)!=null}function Ln(){return rt(po(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(su).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z0(i){H.useContext(Xn).static||H.useLayoutEffect(i)}function go(){let{isDataRoute:i}=H.useContext(Zn);return i?yR():rR()}function rR(){rt(po(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(mo),{basename:e,navigator:n}=H.useContext(Xn),{matches:s}=H.useContext(Zn),{pathname:o}=Ln(),u=JSON.stringify(mp(s)),f=H.useRef(!1);return z0(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(kn(f.current,j0),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=pp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:er([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}H.createContext(null);function sR(){let{matches:i}=H.useContext(Zn),e=i[i.length-1];return e?e.params:{}}function au(i,{relative:e}={}){let{matches:n}=H.useContext(Zn),{pathname:s}=Ln(),o=JSON.stringify(mp(n));return H.useMemo(()=>pp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function aR(i,e){return B0(i,e)}function B0(i,e,n,s){var ie;rt(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Xn),{matches:f}=H.useContext(Zn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",A=m&&m.route;{let te=A&&A.path||"";q0(g,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let b=Ln(),D;if(e){let te=typeof e=="string"?Xs(e):e;rt(v==="/"||((ie=te.pathname)==null?void 0:ie.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${te.pathname}" was given in the \`location\` prop.`),D=te}else D=b;let N=D.pathname||"/",F=N;if(v!=="/"){let te=v.replace(/^\//,"").split("/");F="/"+N.replace(/^\//,"").split("/").slice(te.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:P0(i,{pathname:F});kn(A||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),kn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=hR(L&&L.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:er([v,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?v:er([v,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&Y?H.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Y):Y}function oR(){let i=gR(),e=Jw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var lR=H.createElement(oR,null),uR=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Zn.Provider,{value:this.props.routeContext},H.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cR({routeContext:i,match:e,children:n}){let s=H.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Zn.Provider,{value:i},n)}function hR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:A}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let A,b=!1,D=null,N=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||lR,f&&(m<0&&v===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===v&&(b=!0,N=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,v+1)),L=()=>{let Y;return A?Y=D:b?Y=N:g.route.Component?Y=H.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,H.createElement(cR,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?H.createElement(uR,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fR(i){let e=H.useContext(mo);return rt(e,yp(i)),e}function dR(i){let e=H.useContext(Ch);return rt(e,yp(i)),e}function mR(i){let e=H.useContext(Zn);return rt(e,yp(i)),e}function _p(i){let e=mR(i),n=e.matches[e.matches.length-1];return rt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function pR(){return _p("useRouteId")}function gR(){var s;let i=H.useContext(gp),e=dR("useRouteError"),n=_p("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function yR(){let{router:i}=fR("useNavigate"),e=_p("useNavigate"),n=H.useRef(!1);return z0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{kn(n.current,j0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var $v={};function q0(i,e,n){!e&&!$v[i]&&($v[i]=!0,kn(!1,n))}H.memo(_R);function _R({routes:i,future:e,state:n}){return B0(i,void 0,n,e)}function eo({to:i,replace:e,state:n,relative:s}){rt(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Xn);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Zn),{pathname:f}=Ln(),m=go(),p=pp(i,mp(u),f,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Lr(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Xs(n));let{pathname:p="/",search:g="",hash:v="",state:A=null,key:b="default"}=n,D=H.useMemo(()=>{let N=nr(p,f);return N==null?null:{location:{pathname:N,search:g,hash:v,state:A,key:b},navigationType:s}},[f,p,g,v,A,b,s]);return kn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:H.createElement(Xn.Provider,{value:m},H.createElement(su.Provider,{children:e,value:D}))}function ER({children:i,location:e}){return aR(Lm(i),e)}function Lm(i,e=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Lm(s.props.children,u));return}rt(s.type===Lr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Dh(i){return i!=null&&typeof i.tagName=="string"}function TR(i){return Dh(i)&&i.tagName.toLowerCase()==="button"}function AR(i){return Dh(i)&&i.tagName.toLowerCase()==="form"}function bR(i){return Dh(i)&&i.tagName.toLowerCase()==="input"}function SR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wR(i,e){return i.button===0&&(!e||e==="_self")&&!SR(i)}var Bc=null;function RR(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(i){return i!=null&&!IR.has(i)?(kn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function CR(i,e){let n,s,o,u,f;if(AR(i)){let m=i.getAttribute("action");s=m?nr(m,e):null,n=i.getAttribute("method")||Kc,o=gm(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(TR(i)||bR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=gm(i.getAttribute("formenctype"))||gm(m.getAttribute("enctype"))||Yc,u=new FormData(m,i),!RR()){let{name:g,type:v,value:A}=i;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(Dh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function DR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function OR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await DR(u,n);return f.links?f.links():[]}return[]}));return VR(s.flat(1).filter(NR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xR(i,e,{includeHydrateFallback:n}={}){return MR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MR(i){return[...new Set(i)]}function PR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function VR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(PR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kR=new Set([100,101,204,205]);function LR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function H0(){let i=H.useContext(mo);return vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function UR(){let i=H.useContext(Ch);return vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ep=H.createContext(void 0);Ep.displayName="FrameworkContext";function F0(){let i=H.useContext(Ep);return vp(i,"You must render this element inside a <HydratedRouter> element"),i}function jR(i,e){let n=H.useContext(Ep),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:A}=e,b=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let F=Y=>{Y.forEach(ie=>{f(ie.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[i]),H.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,D),onBlur:Vl(p,N),onMouseEnter:Vl(g,D),onMouseLeave:Vl(v,N),onTouchStart:Vl(A,D)}]:[!1,b,{}]}function Vl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function zR({page:i,...e}){let{router:n}=H0(),s=H.useMemo(()=>P0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(qR,{page:i,matches:s,...e}):null}function BR(i){let{manifest:e,routeModules:n}=F0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return OR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function qR({page:i,matches:e,...n}){let s=Ln(),{manifest:o,routeModules:u}=F0(),{basename:f}=H0(),{loaderData:m,matches:p}=UR(),g=H.useMemo(()=>Qv(i,e,p,o,s,"data"),[i,e,p,o,s]),v=H.useMemo(()=>Qv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,F=!1;if(e.forEach(Y=>{var te;let ie=o.routes[Y.route.id];!ie||!ie.hasLoader||(!g.some(he=>he.route.id===Y.route.id)&&Y.route.id in m&&((te=u[Y.route.id])!=null&&te.shouldRevalidate)||ie.hasClientLoader?F=!0:N.add(Y.route.id))}),N.size===0)return[];let L=LR(i,f);return F&&N.size>0&&L.searchParams.set("_routes",e.filter(Y=>N.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,e,i,u]),b=H.useMemo(()=>xR(v,o),[v,o]),D=BR(v);return H.createElement(H.Fragment,null,A.map(N=>H.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>H.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),D.map(({key:N,link:F})=>H.createElement("link",{key:N,...F})))}function HR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.6.0")}catch{}function FR({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=Nw({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(vR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var $0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:A,...b},D){let{basename:N}=H.useContext(Xn),F=typeof g=="string"&&$0.test(g),L,Y=!1;if(typeof g=="string"&&F&&(L=g,G0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=nr(x.pathname,N);x.origin===R.origin&&k!=null?g=k+x.search+x.hash:Y=!0}catch{kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=iR(g,{relative:o}),[te,he,le]=jR(s,b),ve=KR(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:A});function P(R){e&&e(R),R.defaultPrevented||ve(R)}let w=H.createElement("a",{...b,...le,href:L||ie,onClick:Y||u?e:P,ref:HR(D,he),target:p,"data-discover":!F&&n==="render"?"true":void 0});return te&&!F?H.createElement(H.Fragment,null,w,H.createElement(zR,{page:ie})):w});Fn.displayName="Link";var GR=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let A=au(f,{relative:g.relative}),b=Ln(),D=H.useContext(Ch),{navigator:N,basename:F}=H.useContext(Xn),L=D!=null&&JR(A)&&m===!0,Y=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,ie=b.pathname,te=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&F&&(te=nr(te,F)||te);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let le=ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(he)==="/",ve=te!=null&&(te===Y||!o&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),P={isActive:le,isPending:ve,isTransitioning:L},w=le?e:void 0,R;typeof s=="function"?R=s(P):R=[s,le?"active":null,ve?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(P):u;return H.createElement(Fn,{...g,"aria-current":w,className:R,ref:v,style:x,to:f,viewTransition:m},typeof p=="function"?p(P):p)});GR.displayName="NavLink";var $R=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:A,...b},D)=>{let N=ZR(),F=WR(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&$0.test(m),ie=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let he=te.nativeEvent.submitter,le=(he==null?void 0:he.getAttribute("formmethod"))||f;N(he||te.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:A})};return H.createElement("form",{ref:D,method:L,action:F,onSubmit:s?p:ie,...b,"data-discover":!Y&&i==="render"?"true":void 0})});$R.displayName="Form";function QR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q0(i){let e=H.useContext(mo);return rt(e,QR(i)),e}function KR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=go(),p=Ln(),g=au(i,{relative:u});return H.useCallback(v=>{if(wR(v,e)){v.preventDefault();let A=n!==void 0?n:Ql(p)===Ql(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var YR=0,XR=()=>`__${String(++YR)}__`;function ZR(){let{router:i}=Q0("useSubmit"),{basename:e}=H.useContext(Xn),n=pR();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=CR(s,e);if(o.navigate===!1){let v=o.fetcherKey||XR();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function WR(i,{relative:e}={}){let{basename:n}=H.useContext(Xn),s=H.useContext(Zn);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(i||".",{relative:e})},f=Ln();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Ql(u)}function JR(i,e={}){let n=H.useContext(U0);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q0("useViewTransitionState"),o=au(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}[...kR];const e1=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},t1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(b=64)),s.push(n[v],n[A],n[b],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(K0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):t1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new n1;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),A!==64){const N=g<<6&192|A;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(i){const e=K0(i);return Y0.encodeByteArray(e,!0)},lh=function(i){return i1(i).replace(/\./g,"")},X0=function(i){try{return Y0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=()=>r1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof Kv>"u")return;const i=Kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},o1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&X0(i[1]);return e&&JSON.parse(e)},Nh=()=>{try{return e1()||s1()||a1()||o1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z0=i=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},l1=i=>{const e=Z0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},W0=()=>{var i;return(i=Nh())===null||i===void 0?void 0:i.config},J0=i=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){return i.endsWith(".cloudworkstations.dev")}async function eT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const zl={};function h1(){const i={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?i.emulator.push(e):i.prod.push(e);return i}function f1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Yv=!1;function Oh(i,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||zl[i]===e||zl[i]||Yv)return;zl[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=h1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Yv=!0,f()},b}function v(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=f1(s),D=n("text"),N=document.getElementById(D)||document.createElement("span"),F=n("learnmore"),L=document.getElementById(F)||document.createElement("a"),Y=n("preprendIcon"),ie=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const te=b.element;m(te),v(L,F);const he=g();p(ie,Y),te.append(ie,N,L,he),document.body.appendChild(te)}u?(N.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function m1(){var i;const e=(i=Nh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y1(){const i=Xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function v1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="FirebaseError";class Wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=E1,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?T1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Wn(o,m,s)}}function T1(i,e){return i.replace(A1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const A1=/\{\$([^}]+)}/g;function b1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Xv(u)&&Xv(f)){if(!Qr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Xv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function S1(i,e){const n=new w1(i,e);return n.subscribe.bind(n)}class w1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");R1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1e3,C1=2,D1=4*60*60*1e3,N1=.5;function Zv(i,e=I1,n=C1){const s=e*Math.pow(n,i),o=Math.round(N1*s*(Math.random()-.5)*2);return Math.min(D1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i){return i&&i._delegate?i._delegate:i}class Kn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new u1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x1(i){return i===js?void 0:i}function M1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const V1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},k1=Pe.INFO,L1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},U1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=L1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const j1=(i,e)=>e.some(n=>i instanceof n);let Wv,Jv;function z1(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,Um=new WeakMap,sT=new WeakMap,_m=new WeakMap,Tp=new WeakMap;function q1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rT.set(n,i)}).catch(()=>{}),Tp.set(e,i),e}function H1(i){if(Um.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Um.set(i,e)}let jm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function F1(i){jm=i(jm)}function G1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vm(this),e,...n);return sT.set(s,e.sort?e.sort():[e]),qr(s)}:B1().includes(i)?function(...e){return i.apply(vm(this),e),qr(rT.get(this))}:function(...e){return qr(i.apply(vm(this),e))}}function $1(i){return typeof i=="function"?G1(i):(i instanceof IDBTransaction&&H1(i),j1(i,z1())?new Proxy(i,jm):i)}function qr(i){if(i instanceof IDBRequest)return q1(i);if(_m.has(i))return _m.get(i);const e=$1(i);return e!==i&&(_m.set(i,e),Tp.set(e,i)),e}const vm=i=>Tp.get(i);function aT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Q1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Em=new Map;function eE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=K1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Em.set(e,u),u}F1(i=>({...i,get:(e,n,s)=>eE(e,n)||i.get(e,n,s),has:(e,n)=>!!eE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function X1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",tE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new xh("@firebase/app"),Z1="@firebase/app-compat",W1="@firebase/analytics-compat",J1="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",rI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",_I="@firebase/storage-compat",vI="@firebase/firestore",EI="@firebase/ai",TI="@firebase/firestore-compat",AI="firebase",bI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",SI={[zm]:"fire-core",[Z1]:"fire-core-compat",[J1]:"fire-analytics",[W1]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[rI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[_I]:"fire-gcs-compat",[vI]:"fire-fst",[TI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,wI=new Map,qm=new Map;function nE(i,e){try{i.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ei(i){const e=i.name;if(qm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const n of uh.values())nE(n,i);for(const n of wI.values())nE(n,i);return!0}function Ws(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Zs("app","Firebase",RI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=bI;function oT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=W0()),!n)throw Hr.create("no-options");const u=uh.get(o);if(u){if(Qr(n,u.options)&&Qr(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const f=new P1(o);for(const p of qm.values())f.addComponent(p);const m=new II(n,s,f);return uh.set(o,m),m}function Ap(i=Bm){const e=uh.get(i);if(!e&&i===Bm&&W0())return oT();if(!e)throw Hr.create("no-app",{appName:i});return e}function Vn(i,e,n){var s;let o=(s=SI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}Ei(new Kn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",DI=1,Kl="firebase-heartbeat-store";let Tm=null;function lT(){return Tm||(Tm=aT(CI,DI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function NI(i){try{const n=(await lT()).transaction(Kl),s=await n.objectStore(Kl).get(uT(i));return await n.done,s}catch(e){if(e instanceof Wn)ir.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function iE(i,e){try{const s=(await lT()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,uT(i)),await s.done}catch(n){if(n instanceof Wn)ir.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(s.message)}}}function uT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,xI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=rE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xI){const f=kI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rE(),{heartbeatsToSend:s,unsentEntries:o}=PI(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ir.warn(n),""}}}function rE(){return new Date().toISOString().substring(0,10)}function PI(i,e=OI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sE(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function kI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){Ei(new Kn("platform-logger",e=>new Y1(e),"PRIVATE")),Ei(new Kn("heartbeat",e=>new MI(e),"PRIVATE")),Vn(zm,tE,i),Vn(zm,tE,"esm2017"),Vn("fire-js","")}LI("");var UI="firebase",jI="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(UI,jI,"app");const cT="@firebase/installations",bp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=1e4,fT=`w:${bp}`,dT="FIS_v2",zI="https://firebaseinstallations.googleapis.com/v1",BI=60*60*1e3,qI="installations",HI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new Zs(qI,HI,FI);function mT(i){return i instanceof Wn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT({projectId:i}){return`${zI}/projects/${i}/installations`}function gT(i){return{token:i.token,requestStatus:2,expiresIn:$I(i.expiresIn),creationTime:Date.now()}}async function yT(i,e){const s=(await e.json()).error;return Gs.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _T({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function GI(i,{refreshToken:e}){const n=_T(i);return n.append("Authorization",QI(e)),n}async function vT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function $I(i){return Number(i.replace("s","000"))}function QI(i){return`${dT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=pT(i),o=_T(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:dT,appId:i.appId,sdkVersion:fT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await vT(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:gT(g.authToken)}}else throw await yT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^[cdef][\w-]{21}$/,Hm="";function ZI(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=WI(i);return XI.test(n)?n:Hm}catch{return Hm}}function WI(i){return YI(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function AT(i,e){const n=Mh(i);bT(n,e),JI(n,e)}function bT(i,e){const n=TT.get(i);if(n)for(const s of n)s(e)}function JI(i,e){const n=eC();n&&n.postMessage({key:i,fid:e}),tC()}let zs=null;function eC(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=i=>{bT(i.data.key,i.data.fid)}),zs}function tC(){TT.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-installations-database",iC=1,$s="firebase-installations-store";let Am=null;function Sp(){return Am||(Am=aT(nC,iC,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore($s)}}})),Am}async function ch(i,e){const n=Mh(i),o=(await Sp()).transaction($s,"readwrite"),u=o.objectStore($s),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&AT(i,e.fid),e}async function ST(i){const e=Mh(i),s=(await Sp()).transaction($s,"readwrite");await s.objectStore($s).delete(e),await s.done}async function Ph(i,e){const n=Mh(i),o=(await Sp()).transaction($s,"readwrite"),u=o.objectStore($s),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&AT(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(i){let e;const n=await Ph(i.appConfig,s=>{const o=rC(s),u=sC(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Hm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function rC(i){const e=i||{fid:ZI(),registrationStatus:0};return wT(e)}function sC(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=aC(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oC(i)}:{installationEntry:e}}async function aC(i,e){try{const n=await KI(i,e);return ch(i.appConfig,n)}catch(n){throw mT(n)&&n.customData.serverCode===409?await ST(i.appConfig):await ch(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oC(i){let e=await aE(i.appConfig);for(;e.registrationStatus===1;)await ET(100),e=await aE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await wp(i);return s||n}return e}function aE(i){return Ph(i,e=>{if(!e)throw Gs.create("installation-not-found");return wT(e)})}function wT(i){return lC(i)?{fid:i.fid,registrationStatus:0}:i}function lC(i){return i.registrationStatus===1&&i.registrationTime+hT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC({appConfig:i,heartbeatServiceProvider:e},n){const s=cC(i,n),o=GI(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:fT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await vT(()=>fetch(s,m));if(p.ok){const g=await p.json();return gT(g)}else throw await yT("Generate Auth Token",p)}function cC(i,{fid:e}){return`${pT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(i,e=!1){let n;const s=await Ph(i.appConfig,u=>{if(!RT(u))throw Gs.create("not-registered");const f=u.authToken;if(!e&&dC(f))return u;if(f.requestStatus===1)return n=hC(i,e),u;{if(!navigator.onLine)throw Gs.create("app-offline");const m=pC(u);return n=fC(i,m),m}});return n?await n:s.authToken}async function hC(i,e){let n=await oE(i.appConfig);for(;n.authToken.requestStatus===1;)await ET(100),n=await oE(i.appConfig);const s=n.authToken;return s.requestStatus===0?Rp(i,e):s}function oE(i){return Ph(i,e=>{if(!RT(e))throw Gs.create("not-registered");const n=e.authToken;return gC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fC(i,e){try{const n=await uC(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await ch(i.appConfig,s),n}catch(n){if(mT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ST(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ch(i.appConfig,s)}throw n}}function RT(i){return i!==void 0&&i.registrationStatus===2}function dC(i){return i.requestStatus===2&&!mC(i)}function mC(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+BI}function pC(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function gC(i){return i.requestStatus===1&&i.requestTime+hT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i){const e=i,{installationEntry:n,registrationPromise:s}=await wp(e);return s?s.catch(console.error):Rp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e=!1){const n=i;return await vC(n),(await Rp(n,e)).token}async function vC(i){const{registrationPromise:e}=await wp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){if(!i||!i.options)throw bm("App Configuration");if(!i.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw bm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bm(i){return Gs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="installations",TC="installations-internal",AC=i=>{const e=i.getProvider("app").getImmediate(),n=EC(e),s=Ws(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},bC=i=>{const e=i.getProvider("app").getImmediate(),n=Ws(e,IT).getImmediate();return{getId:()=>yC(n),getToken:o=>_C(n,o)}};function SC(){Ei(new Kn(IT,AC,"PUBLIC")),Ei(new Kn(TC,bC,"PRIVATE"))}SC();Vn(cT,bp);Vn(cT,bp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="analytics",wC="firebase_id",RC="origin",IC=60*1e3,CC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ip="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Zs("analytics","Analytics",DC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(i){if(!i.startsWith(Ip)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return ln.warn(e.message),""}return i}function CT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function OC(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function xC(i,e){const n=OC("firebase-js-sdk-policy",{createScriptURL:NC}),s=document.createElement("script"),o=`${Ip}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function MC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function PC(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await CT(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){ln.error(m)}i("config",o,u)}async function VC(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await CT(n);for(const p of f){const g=m.find(A=>A.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){ln.error(u)}}function kC(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await VC(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await PC(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){ln.error(m)}}return o}function LC(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=kC(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function UC(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ip)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=30,zC=1e3;class BC{constructor(e={},n=zC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DT=new BC;function qC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function HC(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:qC(s)},u=CC.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function FC(i,e=DT,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Tn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Tn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new QC;return setTimeout(async()=>{m.abort()},IC),NT({appId:s,apiKey:o,measurementId:u},f,m,e)}async function NT(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=DT){var u;const{appId:f,measurementId:m}=i;try{await GC(s,e)}catch(p){if(m)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await HC(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!$C(g)){if(o.deleteThrottleMetadata(f),m)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Zv(n,o.intervalMillis,jC):Zv(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return o.setThrottleMetadata(f,A),ln.debug(`Calling attemptFetch again in ${v} millis`),NT(i,A,s,o)}}function GC(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $C(i){if(!(i instanceof Wn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class QC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KC(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(){if(nT())try{await iT()}catch(i){return ln.warn(Tn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return ln.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XC(i,e,n,s,o,u,f){var m;const p=FC(i);p.then(D=>{n[D.measurementId]=D.appId,i.options.measurementId&&D.measurementId!==i.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>ln.error(D)),e.push(p);const g=YC().then(D=>{if(D)return s.getId()}),[v,A]=await Promise.all([p,g]);UC(u)||xC(u,v.measurementId),o("js",new Date);const b=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return b[RC]="firebase",b.update=!0,A!=null&&(b[wC]=A),o("config",v.measurementId,b),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.app=e}_delete(){return delete Bl[this.app.options.appId],Promise.resolve()}}let Bl={},lE=[];const uE={};let Sm="dataLayer",WC="gtag",cE,OT,hE=!1;function JC(){const i=[];if(tT()&&i.push("This is a browser extension environment."),v1()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function eD(i,e,n){JC();const s=i.options.appId;if(!s)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Bl[s]!=null)throw Tn.create("already-exists",{id:s});if(!hE){MC(Sm);const{wrappedGtag:u,gtagCore:f}=LC(Bl,lE,uE,Sm,WC);OT=u,cE=f,hE=!0}return Bl[s]=XC(i,lE,uE,e,cE,Sm,n),new ZC(i)}function tD(i=Ap()){i=Tt(i);const e=Ws(i,hh);return e.isInitialized()?e.getImmediate():nD(i)}function nD(i,e={}){const n=Ws(i,hh);if(n.isInitialized()){const o=n.getImmediate();if(Qr(e,n.getOptions()))return o;throw Tn.create("already-initialized")}return n.initialize({options:e})}function iD(i,e,n,s){i=Tt(i),KC(OT,Bl[i.app.options.appId],e,n,s).catch(o=>ln.error(o))}const fE="@firebase/analytics",dE="0.10.16";function rD(){Ei(new Kn(hh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return eD(s,o,n)},"PUBLIC")),Ei(new Kn("analytics-internal",i,"PRIVATE")),Vn(fE,dE),Vn(fE,dE,"esm2017");function i(e){try{const n=e.getProvider(hh).getImmediate();return{logEvent:(s,o,u)=>iD(n,s,o,u)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}rD();function Cp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sD=xT,MT=new Zs("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new xh("@firebase/auth");function aD(i,...e){fh.logLevel<=Pe.WARN&&fh.warn(`Auth (${yo}): ${i}`,...e)}function Xc(i,...e){fh.logLevel<=Pe.ERROR&&fh.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(i,...e){throw Np(i,...e)}function Qn(i,...e){return Np(i,...e)}function Dp(i,e,n){const s=Object.assign(Object.assign({},sD()),{[e]:n});return new Zs("auth","Firebase",s).create(e,{appName:i.name})}function Hs(i){return Dp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oD(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ti(i,"argument-error"),Dp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return MT.create(i,...e)}function Ae(i,e,...n){if(!i)throw Np(e,...n)}function Zi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xc(e),new Error(e)}function rr(i,e){i||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function lD(){return mE()==="http:"||mE()==="https:"}function mE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lD()||tT()||"connection"in navigator)?navigator.onLine:!0}function cD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=d1()||g1()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i,e){rr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dD=new uu(3e4,6e4);function xp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function _o(i,e,n,s,o={}){return VT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return p1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ou(i.emulatorConfig.host)&&(g.credentials="include"),PT.fetch()(await kT(i,i.config.apiHost,n,m),g)})}async function VT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},hD),e);try{const o=new pD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(i,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(i,v,g);Ti(i,v)}}catch(o){if(o instanceof Wn)throw o;Ti(i,"network-request-failed",{message:String(o)})}}async function mD(i,e,n,s,o={}){const u=await _o(i,e,n,s,o);return"mfaPendingCredential"in u&&Ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function kT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Op(i.config,o):`${i.config.apiScheme}://${o}`;return fD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class pD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),dD.get())})}}function qc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(i,e){return _o(i,"POST","/v1/accounts:delete",e)}async function dh(i,e){return _o(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(i,e=!1){const n=Tt(i),s=await n.getIdToken(e),o=Mp(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ql(wm(o.auth_time)),issuedAtTime:ql(wm(o.iat)),expirationTime:ql(wm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(i){return Number(i)*1e3}function Mp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=X0(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pE(i){const e=Mp(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wn&&_D(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _D({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Yl(i,dh(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?LT(u.providerUserInfo):[],m=TD(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,A)}async function ED(i){const e=Tt(i);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LT(i){return i.map(e=>{var{providerId:n}=e,s=Cp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(i,e){const n=await VT(i,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await kT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",PT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bD(i,e){return _o(i,"POST","/v2/accounts:revokeToken",xp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await AD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new to;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yD(this,e)}reload(){return ED(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Yl(this,gD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,v;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ie=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:te,emailVerified:he,isAnonymous:le,providerData:ve,stsTokenManager:P}=n;Ae(te&&P,e,"internal-error");const w=to.fromJSON(this.name,P);Ae(typeof te=="string",e,"internal-error"),kr(A,e.name),kr(b,e.name),Ae(typeof he=="boolean",e,"internal-error"),Ae(typeof le=="boolean",e,"internal-error"),kr(D,e.name),kr(N,e.name),kr(F,e.name),kr(L,e.name),kr(Y,e.name),kr(ie,e.name);const R=new $n({uid:te,auth:e,email:b,emailVerified:he,displayName:A,isAnonymous:le,photoURL:N,phoneNumber:D,tenantId:F,stsTokenManager:w,createdAt:Y,lastLoginAt:ie});return ve&&Array.isArray(ve)&&(R.providerData=ve.map(x=>Object.assign({},x))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new to;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function Wi(i){rr(i instanceof Function,"Expected a class definition");let e=gE.get(i);return e?(rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const yE=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i,e,n){return`firebase:${i}:${e}:${n}`}class no{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new no(Wi(yE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(yE);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let A;if(typeof v=="string"){const b=await dh(e,{idToken:v}).catch(()=>{});if(!b)break;A=await $n._fromGetAccountInfoResponse(e,b,v)}else A=$n._fromJSON(e,v);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new no(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jT(i=Xt()){return/firefox\//i.test(i)}function zT(i=Xt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(i=Xt()){return/crios\//i.test(i)}function qT(i=Xt()){return/iemobile/i.test(i)}function HT(i=Xt()){return/android/i.test(i)}function FT(i=Xt()){return/blackberry/i.test(i)}function GT(i=Xt()){return/webos/i.test(i)}function Pp(i=Xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function SD(i=Xt()){var e;return Pp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wD(){return y1()&&document.documentMode===10}function $T(i=Xt()){return Pp(i)||HT(i)||GT(i)||FT(i)||/windows phone/i.test(i)||qT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i,e=[]){let n;switch(i){case"Browser":n=_E(Xt());break;case"Worker":n=`${_E(Xt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(i,e={}){return _o(i,"GET","/v2/passwordPolicy",xp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=6;class DD{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:CD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Hs(this));const n=e?Tt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ID(this),n=new DD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zs("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vh(i){return Tt(i)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=S1(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(i){Vp=i}function xD(i){return Vp.loadJS(i)}function MD(){return Vp.gapiScript}function PD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i,e){const n=Ws(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qr(u,e??{}))return o;Ti(o,"already-initialized")}return n.initialize({options:e})}function kD(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LD(i,e,n){const s=Vh(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KT(e),{host:f,port:m}=UD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Qr(g,s.config.emulator)&&Qr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ou(f)?(Oh("Auth",!0),eT(`${u}//${f}${p}`)):jD()}function KT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function UD(i){const e=KT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:EE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:EE(f)}}}function EE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function jD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i,e){return mD(i,"POST","/v1/accounts:signInWithIdp",xp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="http://localhost";class Qs extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:zD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends cu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends cu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=TE(s);return new so({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new so({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function TE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Wn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function XT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(i,u,e,s):u})}async function BD(i,e,n=!1){const s=await Yl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return so._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(Hs(s));const o="reauthenticate";try{const u=await Yl(i,XT(s,o,e,i),n);Ae(u.idToken,s,"internal-error");const f=Mp(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(i.uid===m,s,"user-mismatch"),so._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,e,n=!1){if(Gn(i.app))return Promise.reject(Hs(i));const s="signIn",o=await XT(i,s,e),u=await so._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function FD(i,e,n,s){return Tt(i).onIdTokenChanged(e,n,s)}function GD(i,e,n){return Tt(i).beforeAuthStateChanged(e,n)}function $D(i,e,n,s){return Tt(i).onAuthStateChanged(e,n,s)}function QD(i){return Tt(i).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1e3,YD=10;class WT extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const XD=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const eA=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await ZD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function JD(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function e2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function n2(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",i2=1,yh="firebaseLocalStorage",iA="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(i,e){return i.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function r2(){const i=indexedDB.deleteDatabase(nA);return new hu(i).toPromise()}function $m(){const i=indexedDB.open(nA,i2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(yh,{keyPath:iA})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await r2(),e(await $m()))})})}async function AE(i,e,n){const s=Lh(i,!0).put({[iA]:e,value:n});return new hu(s).toPromise()}async function s2(i,e){const n=Lh(i,!1).get(e),s=await new hu(n).toPromise();return s===void 0?null:s.value}function bE(i,e){const n=Lh(i,!0).delete(e);return new hu(n).toPromise()}const a2=800,o2=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>o2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(n2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e2(),!this.activeServiceWorker)return;this.sender=new WD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await AE(e,gh,"1"),await bE(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>s2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const l2=rA;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(i,e){return e?Wi(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u2(i){return HD(i.auth,new Up(i),i.bypassAuthState)}function c2(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),qD(n,new Up(i),i.bypassAuthState)}async function h2(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),BD(n,new Up(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:Ti(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new uu(2e3,1e4);async function d2(i,e,n){if(Gn(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=Vh(i);oD(i,e,kp);const o=sA(s,n);return new Bs(s,"signInViaPopup",e,o).executeNotNull()}class Bs extends aA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="pendingRedirect",Wc=new Map;class p2 extends aA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(i,e){const n=v2(e),s=_2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function y2(i,e){Wc.set(i._key(),e)}function _2(i){return Wi(i._redirectPersistence)}function v2(i){return Zc(m2,i.config.apiKey,i.name)}async function E2(i,e,n=!1){if(Gn(i.app))return Promise.reject(Hs(i));const s=Vh(i),o=sA(s,e),f=await new p2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=10*60*1e3;class A2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!oA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T2&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function oA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(i,e={}){return _o(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^https?/;async function I2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await S2(i);for(const n of e)try{if(C2(n))return}catch{}Ti(i,"unauthorized-domain")}function C2(i){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!R2.test(n))return!1;if(w2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new uu(3e4,6e4);function wE(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function N2(i){return new Promise((e,n)=>{var s,o,u;function f(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(Qn(i,"network-request-failed"))},timeout:D2.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=PD("iframefcb");return yi()[m]=()=>{gapi.load?f():n(Qn(i,"network-request-failed"))},xD(`${MD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function O2(i){return Jc=Jc||N2(i),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new uu(5e3,15e3),M2="__/auth/iframe",P2="emulator/auth/iframe",V2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Op(e,P2):`https://${i.config.authDomain}/${M2}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=k2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function U2(i){const e=await O2(i),n=yi().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:L2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},x2.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z2=500,B2=600,q2="_blank",H2="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F2(i,e,n,s=z2,o=B2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},j2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Xt().toLowerCase();n&&(m=BT(g)?q2:n),jT(g)&&(e=e||H2,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[D,N])=>`${b}${D}=${N},`,"");if(SD(g)&&m!=="_self")return G2(e||"",m),new RE(null);const A=window.open(e||"",m,v);Ae(A,i,"popup-blocked");try{A.focus()}catch{}return new RE(A)}function G2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="__/auth/handler",Q2="emulator/auth/handler",K2=encodeURIComponent("fac");async function IE(i,e,n,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof kp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",b1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))f[v]=A}if(e instanceof cu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${K2}=${encodeURIComponent(p)}`:"";return`${Y2(i)}?${lu(m).slice(1)}${g}`}function Y2({config:i}){return i.emulator?Op(i,Q2):`https://${i.authDomain}/${$2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=E2,this._overrideRedirectResult=y2}async _openPopup(e,n,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await IE(e,n,s,Fm(),o);return F2(e,f,Lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IE(e,n,s,Fm(),o);return JD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await U2(e),s=new A2(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Rm];f!==void 0&&n(!!f),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||zT()||Pp()}}const Z2=X2;var CE="@firebase/auth",DE="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eN(i){Ei(new Kn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(i)},g=new ND(s,o,u,p);return kD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ei(new Kn("auth-internal",e=>{const n=Vh(e.getProvider("auth").getImmediate());return(s=>new W2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(CE,DE,J2(i)),Vn(CE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=5*60,nN=J0("authIdTokenMaxAge")||tN;let NE=null;const iN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nN)return;const o=n==null?void 0:n.token;NE!==o&&(NE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rN(i=Ap()){const e=Ws(i,"auth");if(e.isInitialized())return e.getImmediate();const n=VD(i,{popupRedirectResolver:Z2,persistence:[l2,XD,eA]}),s=J0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=iN(u.toString());GD(n,f,()=>f(n.currentUser)),FD(n,m=>f(m))}}const o=Z0("auth");return o?LD(n,`http://${o}`):Oh("Auth",!1),n}function sN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}OD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",sN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eN("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,lA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,w){function R(){}R.prototype=w.prototype,P.D=w.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(x,k,U){for(var C=Array(arguments.length-2),st=2;st<arguments.length;st++)C[st-2]=arguments[st];return w.prototype[k].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)x[k]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(k=0;16>k;++k)x[k]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=P.g[0],R=P.g[1],k=P.g[2];var U=P.g[3],C=w+(U^R&(k^U))+x[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=U+(k^w&(R^k))+x[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=k+(R^U&(w^R))+x[2]+606105819&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(w^k&(U^w))+x[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(U^R&(k^U))+x[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(k^w&(R^k))+x[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=k+(R^U&(w^R))+x[6]+2821735955&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(w^k&(U^w))+x[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(U^R&(k^U))+x[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(k^w&(R^k))+x[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=k+(R^U&(w^R))+x[10]+4294925233&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(w^k&(U^w))+x[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(U^R&(k^U))+x[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(k^w&(R^k))+x[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=k+(R^U&(w^R))+x[14]+2792965006&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(w^k&(U^w))+x[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(k^U&(R^k))+x[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(w^R))+x[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(U^w))+x[11]+643717713&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(k^U))+x[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^U&(R^k))+x[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(w^R))+x[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(U^w))+x[15]+3634488961&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(k^U))+x[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^U&(R^k))+x[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(w^R))+x[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(U^w))+x[3]+4107603335&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(k^U))+x[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^U&(R^k))+x[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(w^R))+x[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(U^w))+x[7]+1735328473&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(k^U))+x[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(R^k^U)+x[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^k)+x[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=k+(U^w^R)+x[11]+1839030562&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^w)+x[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^U)+x[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^k)+x[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=k+(U^w^R)+x[7]+4139469664&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^w)+x[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^U)+x[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^k)+x[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=k+(U^w^R)+x[3]+3572445317&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^w)+x[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^U)+x[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^k)+x[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=k+(U^w^R)+x[15]+530742520&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^w)+x[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(k^(R|~U))+x[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~k))+x[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=k+(w^(U|~R))+x[14]+2878612391&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~w))+x[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~U))+x[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~k))+x[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=k+(w^(U|~R))+x[10]+4293915773&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~w))+x[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~U))+x[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~k))+x[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=k+(w^(U|~R))+x[6]+2734768916&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~w))+x[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~U))+x[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~k))+x[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=k+(w^(U|~R))+x[2]+718787259&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~w))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+U&4294967295}s.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var R=w-this.blockSize,x=this.B,k=this.h,U=0;U<w;){if(k==0)for(;U<=R;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<w;)if(x[k++]=P.charCodeAt(U++),k==this.blockSize){o(this,x),k=0;break}}else for(;U<w;)if(x[k++]=P[U++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var R=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=R&255,R/=256;for(this.u(P),P=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)P[R++]=this.g[w]>>>x&255;return P};function u(P,w){var R=m;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=w(P)}function f(P,w){this.h=w;for(var R=[],x=!0,k=P.length-1;0<=k;k--){var U=P[k]|0;x&&U==w||(R[k]=U,x=!1)}this.g=R}var m={};function p(P){return-128<=P&&128>P?u(P,function(w){return new f([w|0],0>w?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return A;if(0>P)return L(g(-P));for(var w=[],R=1,x=0;P>=R;x++)w[x]=P/R|0,R*=4294967296;return new f(w,0)}function v(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return L(v(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=A,k=0;k<P.length;k+=8){var U=Math.min(8,P.length-k),C=parseInt(P.substring(k,k+U),w);8>U?(U=g(Math.pow(w,U)),x=x.j(U).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var A=p(0),b=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(F(this))return-L(this).m();for(var P=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);P+=(0<=x?x:4294967296+x)*w,w*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(F(this))return"-"+L(this).toString(P);for(var w=g(Math.pow(P,6)),R=this,x="";;){var k=he(R,w).g;R=Y(R,k.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=k,N(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function F(P){return P.h==-1}i.l=function(P){return P=Y(this,P),F(P)?-1:N(P)?0:1};function L(P){for(var w=P.g.length,R=[],x=0;x<w;x++)R[x]=~P.g[x];return new f(R,~P.h).add(b)}i.abs=function(){return F(this)?L(this):this},i.add=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],x=0,k=0;k<=w;k++){var U=x+(this.i(k)&65535)+(P.i(k)&65535),C=(U>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);x=C>>>16,U&=65535,C&=65535,R[k]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(P,w){return P.add(L(w))}i.j=function(P){if(N(this)||N(P))return A;if(F(this))return F(P)?L(this).j(L(P)):L(L(this).j(P));if(F(P))return L(this.j(L(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var w=this.g.length+P.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<P.g.length;k++){var U=this.i(x)>>>16,C=this.i(x)&65535,st=P.i(k)>>>16,Be=P.i(k)&65535;R[2*x+2*k]+=C*Be,ie(R,2*x+2*k),R[2*x+2*k+1]+=U*Be,ie(R,2*x+2*k+1),R[2*x+2*k+1]+=C*st,ie(R,2*x+2*k+1),R[2*x+2*k+2]+=U*st,ie(R,2*x+2*k+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function ie(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function te(P,w){this.g=P,this.h=w}function he(P,w){if(N(w))throw Error("division by zero");if(N(P))return new te(A,A);if(F(P))return w=he(L(P),w),new te(L(w.g),L(w.h));if(F(w))return w=he(P,L(w)),new te(L(w.g),w.h);if(30<P.g.length){if(F(P)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(P);)R=le(R),x=le(x);var k=ve(R,1),U=ve(x,1);for(x=ve(x,2),R=ve(R,2);!N(x);){var C=U.add(x);0>=C.l(P)&&(k=k.add(R),U=C),x=ve(x,1),R=ve(R,1)}return w=Y(P,k.j(w)),new te(k,w)}for(k=A;0<=P.l(w);){for(R=Math.max(1,Math.floor(P.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),C=U.j(w);F(C)||0<C.l(P);)R-=x,U=g(R),C=U.j(w);N(U)&&(U=b),k=k.add(U),P=Y(P,C)}return new te(k,P)}i.A=function(P){return he(this,P).h},i.and=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&P.i(x);return new f(R,this.h&P.h)},i.or=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|P.i(x);return new f(R,this.h|P.h)},i.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^P.i(x);return new f(R,this.h^P.h)};function le(P){for(var w=P.g.length+1,R=[],x=0;x<w;x++)R[x]=P.i(x)<<1|P.i(x-1)>>>31;return new f(R,P.h)}function ve(P,w){var R=w>>5;w%=32;for(var x=P.g.length-R,k=[],U=0;U<x;U++)k[U]=0<w?P.i(U+R)>>>w|P.i(U+R+1)<<32-w:P.i(U+R);return new f(k,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Fr=f}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA,kl,cA,eh,Qm,hA,fA,dA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,b.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,Q){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[z].apply(S,se)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=c.length||0,Q=S.length||0;c.length=z+Q;for(let se=0;se<Q;se++)c[z+se]=S[se]}else c.push(S)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ve(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class st{constructor(){this.h=this.g=null}add(y,_){const S=Be.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Be=new Y(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,De=new st,M=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=Be;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{he(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}N(Ne,re);var be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Jn(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++Je,this.da=this.fa=!1}function or(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,_,S,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=is(c,y,S,z);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Jn(y,this.src,Q,!!S,z),y.fa=_,c.push(y)),y};function ns(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(S,z,1),Q&&(or(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,y,_,S){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return z}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),So={};function yu(c,y,_,S,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)yu(c,y[Q],_,S,z);return null}return _=_u(_),c&&c[Dt]?c.K(y,_,g(S)?!!S.capture:!1,z):An(c,y,_,!1,S,z)}function An(c,y,_,S,z,Q){if(!y)throw Error("Invalid event type");var se=g(z)?!!z.capture:!!z,ke=sa(c);if(ke||(c[rs]=ke=new Si(c)),_=ke.add(y,_,S,se,Q),_.proxy)return _;if(S=uf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ge||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(ss(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function uf(){function c(_){return y.call(c.src,c.listener,_)}const y=cf;return c}function wo(c,y,_,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)wo(c,y[Q],_,S,z);else S=g(S)?!!S.capture:!!S,_=_u(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=is(Q,_,S,z),-1<_&&(or(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,_,S,z)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ns(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ss(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=sa(y))?(ns(_,c),_.h==0&&(_.src=null,y[rs]=null)):or(c)}}}function ss(c){return c in So?So[c]:So[c]="on"+c}function cf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&ra(c),c=_.call(S,y)}return c}function sa(c){return c=c[rs],c instanceof Si?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function lt(){oe.call(this),this.i=new Si(this),this.M=this,this.F=null}N(lt,oe),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,y,_,S){wo(this,c,y,_,S)};function Ge(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var z=y;y=new re(S,c),x(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=y.g=_[Q];z=hn(se,S,!0,y)&&z}if(se=y.g=c,z=hn(se,S,!0,y)&&z,z=hn(se,S,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)se=y.g=_[Q],z=hn(se,S,!1,y)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)or(_[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},lt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function hn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var se=y[Q];if(se&&!se.da&&se.capture==_){var ke=se.listener,bt=se.ha||se.src;se.fa&&ns(c.i,se),z=ke.call(bt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Ft(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function vu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hf extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){oe.call(this),this.h=c,this.g={}}N(as,oe);var os=[];function ls(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,aa=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Do(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){re.call(this,"d")}N(Ri,re);function No(){re.call(this,"c")}N(No,re);var ei={},Oo=null;function lr(){return Oo=Oo||new lt}ei.La="serverreachability";function oa(c){re.call(this,ei.La,c)}N(oa,re);function ur(c){const y=lr();Ge(y,new oa(y))}ei.STAT_EVENT="statevent";function Eu(c,y){re.call(this,ei.STAT_EVENT,c),this.stat=y}N(Eu,re);function nt(c){const y=lr();Ge(y,new Eu(y,c))}ei.Ma="timingevent";function At(c,y){re.call(this,ei.Ma,c),this.size=y}N(At,re);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function xo(c,y,_,S,z,Q){c.info(function(){if(c.g)if(Q)for(var se="",ke=Q.split("&"),bt=0;bt<ke.length;bt++){var Le=ke[bt].split("=");if(1<Le.length){var Ot=Le[0];Le=Le[1];var St=Ot.split("_");se=2<=St.length&&St[1]=="type"?se+(Ot+"="+Le+"&"):se+(Ot+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+se})}function ff(c,y,_,S,z,Q,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+se})}function cr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,_)+(S?" "+S:"")})}function Tu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Un(_)}catch{return y}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}N(ni,Io),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function Zt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Mo={},la={};function jn(c,y,_){c.L=1,c.v=ps(fn(y)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),hs(c),c.A=fn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),jo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ht,c.g=Lu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new hf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(os[0]=z.toString()),z=os);for(var Q=0;Q<z.length;Q++){var se=yu(_,z[Q],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ur(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const St=In(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||St!=4||y==7||(y==8||0>=ki?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;t:if(Au(this)){var S=Du(this.g);c="";var z=S.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),ii(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,ff(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,bt=this.g;if((ke=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(ke)){var Le=ke;break t}}Le=null}if(_=Le)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,nt(12),kt(this),ii(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=bu(this,se),Lt==la){St==4&&(this.s=4,nt(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Mo){this.s=4,nt(15),cr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,Lt,null),fs(this,Lt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,se,"[Invalid Chunked Response]"),kt(this),ii(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),bs(Ot),Ot.M=!0,nt(11))}}else cr(this.i,this.l,se,null),fs(this,se);St==4&&kt(this),this.o&&!this.J&&(St==4?Pu(this.j,this):(this.o=!1,hs(this)))}else yf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),kt(this),ii(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?la:(_=Number(y.substring(_,S)),isNaN(_)?Mo:(S+=1,S+_>y.length?la:(y=y.slice(S,S+_),c.C=S+_,y)))}Zt.prototype.cancel=function(){this.J=!0,kt(this)};function hs(c){c.S=Date.now()+c.I,Su(c,c.I)}function Su(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(b(c.ba,c),y)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(ur(),nt(17)),kt(this),this.s=2,ii(this)):Su(this,this.S-c)};function ii(c){c.j.G==0||c.J||Pu(c.j,c)}function kt(c){fr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Po(_.h,c))){if(!c.K&&Po(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break e;Fo(_),nt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(b(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&Ea(_),!ie(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Ot=Le[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const St=Le[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const ki=Le[5];ki!=null&&typeof ki=="number"&&0<ki&&(S=1.5*ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Lt=c.g;if(Lt){const ci=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var Q=S.h;Q.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ha(Q,Q.h),Q.h=null))}if(S.D){const $o=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(S.ya=$o,Ke(S.I,S.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=ku(S,S.J?S.ia:null,S.W),se.K){Wt(S.h,se);var ke=se,bt=S.L;bt&&(ke.I=bt),ke.B&&(fr(ke),hs(ke)),S.g=se}else xu(S);0<_.i.length&&va(_)}else Le[0]!="stop"&&Le[0]!="close"||Vi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Vi(_,7):qo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}ur(4)}catch{}}var wu=class{constructor(c,y){this.g=c,this.map=y}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function Wt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Di.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),S=df(c),z=S.length,Q=0;Q<z;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var Q=c[_].substring(0,S);z=c[_].substring(S+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.s),this.l=c.l;var y=c.i,_=new Oi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ni(this,_),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),dr(this,y[4]),this.l=Sn(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?pf:Uo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,da)),c.join("")};function fn(c){return new gt(c)}function ms(c,y,_){c.j=_?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ni(c,y,_){y instanceof Oi?(c.i=y,Iu(c.i,c.h)):(_||(y=gs(y,gf)),c.i=new Oi(y,c.h))}function Ke(c,y,_){c.i.set(y,_)}function ps(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Uo=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,da=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Oi.prototype,i.add=function(c,y){wn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xi(c,y){wn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return wn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let Q=0;Q<z.length;Q++)_.push(y[S])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=ri(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jo(c,y,_){xi(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),F(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var z=Q;se[S]!==""&&(z+="="+encodeURIComponent(String(se[S]))),c.push(z)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Iu(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(xi(this,S),jo(this,z,_))},c)),c.j=y}function ys(c,y){const _=new bn;if(m.Image){const S=new Image;S.onload=D(Rn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=D(Rn,_,"TestLoadImage: error",!1,y,S),S.onabort=D(Rn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(Rn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function zn(c,y){const _=new bn,S=new AbortController,z=setTimeout(()=>{S.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function _s(){this.g=new us}function si(c,y,_){const S=_||"";try{ko(c,function(z,Q){let se=z;g(z)&&(se=Un(z)),y.push(S+Q+"="+encodeURIComponent(se))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(mr,Io),mr.prototype.g=function(){return new Pi(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Pi,lt),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return ve(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,lt);var ma=/^https?$/i,vs=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Co(this.o):Co(ti),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Cu(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Cu(this,Q)}};function Cu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),li(c)}function pa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ft(c.Ea,0,c);else if(Ge(c,"readystatechange"),In(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var z=String(c.D).match(ds)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!ma.test(z?z.toLowerCase():"")}_=S}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Q=2<In(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",pa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Es(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=S}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ie(c[S]))continue;var _=k(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}P(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){nt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),va(this)};function qo(c){if(Nu(c),c.G==3){var y=c.U++,_=fn(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),As(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=ps(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Lu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Vu(c)}function _a(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Nu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||M(),de||(ae(),de=!0),De.add(y,c),c.B=0}}function _f(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(b(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Zt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ou(this,z,y),_=fn(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),As(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Bo(Q)))+"&"+y:this.m&&Nt(_,this.m,Q)),ha(this.h,z),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),z.T=!0,jn(z,_,null)):jn(z,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||ua(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const S=fn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",_),Ke(S,"AID",c.T),As(c,S),c.m&&c.o&&Nt(S,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),jn(_,S,y)}function As(c,y){c.H&&ve(c.H,function(_,S){Ke(y,S,_)}),c.l&&ko({},function(_,S){Ke(y,S,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=z[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let ke=!0;for(let bt=0;bt<_;bt++){let Le=z[bt].g;const Ot=z[bt].map;if(Le-=Q,0>Le)Q=Math.max(0,z[bt].g-100),ke=!1;else try{si(Ot,se,"req"+Le+"_")}catch{S&&S(Ot)}}if(ke){S=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||M(),de||(ae(),de=!0),De.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(b(c.Fa,c),Go(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),_a(this),Mu(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(fn(y)),_.m=null,_.P=!0,Ci(_,c)}i.Za=function(){this.C!=null&&(this.C=null,_a(this),Fo(this),nt(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){Ea(c),bs(c),c.g=null;var S=2}else if(Po(c.h,y))_=y.D,Wt(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=lr(),Ge(S,new At(S,_)),va(c)}else xu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&_f(c,y)||S==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const z=!S;S=new gt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(S,"https"),ps(S),z?ys(S.toString(),_):zn(S.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Vu(c),Nu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var S=_ instanceof gt?fn(_):new gt(_);if(S.g!="")y&&(S.g=y+"."+S.g),dr(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new gt(null);S&&ms(Q,S),y&&(Q.g=y),z&&dr(Q,z),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Ke(S,_,y),Ke(S,"VER",c.la),As(c,S),S}function Lu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new mr({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}i=Uu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){lt.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}N(Jt,lt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){qo(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new wu(y.Ya++,c)),y.G==3&&va(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,Jt.aa.N.call(this)};function ju(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(ju,Ri);function zu(){No.call(this),this.status=1}N(zu,No);function ui(c){this.g=c}N(ui,Uu),ui.prototype.ua=function(){Ge(this.g,"a")},ui.prototype.ta=function(c){Ge(this.g,new ju(c))},ui.prototype.sa=function(c){Ge(this.g,new zu)},ui.prototype.ra=function(){Ge(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,dA=function(){return new Ta},fA=function(){return lr()},hA=ei,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,eh=hr,Ii.COMPLETE="complete",cA=Ii,Do.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,kl=Do,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,uA=He}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",ME="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new xh("@firebase/firestore");function Xa(){return Ks.logLevel}function ce(i,...e){if(Ks.logLevel<=Pe.DEBUG){const n=e.map(jp);Ks.debug(`Firestore (${vo}): ${i}`,...n)}}function sr(i,...e){if(Ks.logLevel<=Pe.ERROR){const n=e.map(jp);Ks.error(`Firestore (${vo}): ${i}`,...n)}}function ao(i,...e){if(Ks.logLevel<=Pe.WARN){const n=e.map(jp);Ks.warn(`Firestore (${vo}): ${i}`,...n)}}function jp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mA(i,s,n)}function mA(i,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||mA(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lN{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new pA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class uN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new uN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=fN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Km(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=gA(),f=dN(u.encode(VE(i,n)),u.encode(VE(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function VE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function dN(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function oo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,LE=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*LE);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new It(0,0))}static max(){return new Se(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class tt extends gi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const mN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends gi{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return mN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new qt([UE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function pN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new Kr(o,pe.empty(),e)}function gN(i){return new Kr(i.readTime,i.key,Xl)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Se.min(),pe.empty(),Xl)}static max(){return new Kr(Se.max(),pe.empty(),Xl)}}function yN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==_N)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&s(f)},v=>o(v))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function EN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function jh(i){return i==null}function _h(i){return i===0&&1/i==-1/0}function TN(i){return typeof i=="number"&&Number.isInteger(i)&&!_h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="";function AN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=jE(e)),e=bN(i.get(n),e);return jE(e)}function bN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case _A:n+="";break;default:n+=u}}return n}function jE(i){return i+_A+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Ct(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new EA("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=SN.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xr(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",AA="__type__",bA="__previous_value__",SA="__local_write_time__";function Bp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[AA])===null||n===void 0?void 0:n.stringValue)===TA}function zh(i){const e=i.mapValue.fields[bA];return Bp(e)?zh(e):e}function Zl(i){const e=Yr(i.mapValue.fields[SA].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const vh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="__type__",RN="__max__",Gc={mapValue:{}},RA="__vector__",Eh="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:CN(i)?9007199254740991:IN(i)?10:11:Ee(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zl(i).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return oo(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zE(f)!==zE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function Jl(i,e){return(i.values||[]).find(n=>Ai(n,e))!==void 0}function lo(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return qE(i.timestampValue,e.timestampValue);case 4:return qE(Zl(i),Zl(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Xr(u),p=Xr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ce(m[g],p[g]);if(v!==0)return v}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(mt(u.latitude),mt(f.latitude));return m!==0?m:Ce(mt(u.longitude),mt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return HE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,v;const A=u.fields||{},b=f.fields||{},D=(m=A[Eh])===null||m===void 0?void 0:m.arrayValue,N=(p=b[Eh])===null||p===void 0?void 0:p.arrayValue,F=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:HE(D,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const b=Km(p[A],v[A]);if(b!==0)return b;const D=lo(m[p[A]],g[v[A]]);if(D!==0)return D}return Ce(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function qE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Yr(i),s=Yr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function HE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function uo(i){return Ym(i)}function Ym(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function th(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return Xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function FE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xm(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function GE(i){return!!i&&"nullValue"in i}function $E(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function IN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wA])===null||n===void 0?void 0:n.stringValue)===RA}function Hl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Hl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function CN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new on(Hl(this.value))}}function IA(i){const e=[];return es(i.fields,(n,s)=>{const o=new qt([n]);if(nh(s)){const u=IA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),on.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function QE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function KE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ai(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class Et extends CA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ON(e,n,s):n==="array-contains"?new PN(e,s):n==="in"?new VN(e,s):n==="not-in"?new kN(e,s):n==="array-contains-any"?new LN(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xN(e,s):new MN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return DA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function DA(i){return i.op==="and"}function NA(i){return NN(i)&&DA(i)}function NN(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Zm(i){if(i instanceof Et)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(NA(i))return i.filters.map(e=>Zm(e)).join(",");{const e=i.filters.map(n=>Zm(n)).join(",");return`${i.op}(${e})`}}function OA(i,e){return i instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&OA(f,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function xA(i){return i instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(i):"Filter"}class ON extends Et{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class xN extends Et{constructor(e,n){super(e,"in",n),this.keys=MA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MN extends Et{constructor(e,n){super(e,"not-in",n),this.keys=MA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MA(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class PN extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&Jl(n.arrayValue,this.value)}}class VN extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class kN extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class LN extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function YE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new UN(i,e,n,s,o,u,f)}function Hp(i){const e=we(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>uo(s)).join(",")),e.Ie=n}return e.Ie}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!DN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!OA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!KE(i.startAt,e.startAt)&&KE(i.endAt,e.endAt)}function Wm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jN(i,e,n,s,o,u,f,m){return new Ao(i,e,n,s,o,u,f,m)}function Gp(i){return new Ao(i)}function XE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function PA(i){return i.collectionGroup!==null}function Fl(i){const e=we(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new eu(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new eu(qt.keyField(),s))}return e.Ee}function _i(i){const e=we(i);return e.de||(e.de=zN(e,Fl(i))),e.de}function zN(i,e){if(i.limitType==="F")return YE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)});const n=i.endAt?new Th(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Th(i.startAt.position,i.startAt.inclusive):null;return YE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Jm(i,e){const n=i.filters.concat([e]);return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function ep(i,e,n){return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bh(i,e){return Fp(_i(i),_i(e))&&i.limitType===e.limitType}function VA(i){return`${Hp(_i(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>xA(o)).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=QE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(f,m,p){const g=QE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(i,e)}function BN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kA(i){return(e,n)=>{let s=!1;for(const o of Fl(i)){const u=qN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qN(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new ot(pe.comparator);function ar(){return HN}const LA=new ot(pe.comparator);function Ll(...i){let e=LA;for(const n of i)e=e.insert(n.key,n);return e}function UA(i){let e=LA;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Gl()}function jA(){return Gl()}function Gl(){return new Js(i=>i.toString(),(i,e)=>i.isEqual(e))}const FN=new ot(pe.comparator),GN=new Ct(pe.comparator);function Ve(...i){let e=GN;for(const n of i)e=e.add(n);return e}const $N=new Ct(Ce);function QN(){return $N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function zA(i){return{integerValue:""+i}}function KN(i,e){return TN(e)?zA(e):$p(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function YN(i,e,n){return i instanceof tu?function(o,u){const f={fields:{[AA]:{stringValue:TA},[SA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=zh(u)),u&&(f.fields[bA]=u),{mapValue:f}}(n,e):i instanceof nu?qA(i,e):i instanceof iu?HA(i,e):function(o,u){const f=BA(o,u),m=ZE(f)+ZE(o.Re);return Xm(f)&&Xm(o.Re)?zA(m):$p(o.serializer,m)}(i,e)}function XN(i,e,n){return i instanceof nu?qA(i,e):i instanceof iu?HA(i,e):n}function BA(i,e){return i instanceof Ah?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class tu extends Hh{}class nu extends Hh{constructor(e){super(),this.elements=e}}function qA(i,e){const n=FA(e);for(const s of i.elements)n.some(o=>Ai(o,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends Hh{constructor(e){super(),this.elements=e}}function HA(i,e){let n=FA(e);for(const s of i.elements)n=n.filter(o=>!Ai(o,s));return{arrayValue:{values:n}}}class Ah extends Hh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ZE(i){return mt(i.integerValue||i.doubleValue)}function FA(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.field=e,this.transform=n}}function WN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?oo(s.elements,o.elements,Ai):s instanceof Ah&&o instanceof Ah?Ai(s.Re,o.Re):s instanceof tu&&o instanceof tu}(i.transform,e.transform)}class JN{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fh{}function GA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Gh(i.key,un.none()):new fu(i.key,i.data,un.none());{const n=i.data,s=on.empty();let o=new Ct(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new En(o.toArray()),un.none())}}function eO(i,e,n){i instanceof fu?function(o,u,f){const m=o.value.clone(),p=JE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ts?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=JE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($A(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(i,e,n,s){return i instanceof fu?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=u.value.clone(),v=e0(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ts?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=e0(u.fieldTransforms,p,f),v=f.data;return v.setAll($A(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function tO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=BA(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function WE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>WN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $A(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function JE(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,XN(f,m,n[o]))}return s}function e0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,YN(u,f,e))}return s}class Gh extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nO extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>WE(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>WE(n,s))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return FN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,je;function aO(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function QA(i){if(i===void 0)return sr("GRPC error has no .code"),W.UNKNOWN;switch(i){case vt.OK:return W.OK;case vt.CANCELLED:return W.CANCELLED;case vt.UNKNOWN:return W.UNKNOWN;case vt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case vt.INTERNAL:return W.INTERNAL;case vt.UNAVAILABLE:return W.UNAVAILABLE;case vt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case vt.NOT_FOUND:return W.NOT_FOUND;case vt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case vt.ABORTED:return W.ABORTED;case vt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case vt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=vt||(vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Fr([4294967295,4294967295],0);function t0(i){const e=gA().encode(i),n=new lA;return n.update(e),new Uint8Array(n.digest())}function n0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Fr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Fr.fromNumber(s)));return o.compare(oO)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=t0(e),[s,o]=n0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Kp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=t0(e),[s,o]=n0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(Se.min(),o,new ot(Ce),ar(),Ve())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class KA{constructor(e,n){this.targetId=e,this.Ce=n}}class YA{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class i0{constructor(){this.Fe=0,this.Me=r0(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),n=Ve(),s=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new du(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=r0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lO{constructor(e){this.ze=e,this.je=new Map,this.He=ar(),this.Je=$c(),this.Ye=$c(),this.Ze=new ot(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Wm(u))if(s===0){const f=new pe(u.path);this.tt(n,f,Yt.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(p){if(p instanceof EA)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(f,o,u)}catch(p){return ao(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Wm(m.target)){const p=new pe(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Yt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ve();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new $h(e,n,this.Ze,this.He,s);return this.He=ar(),this.Je=$c(),this.Ye=$c(),this.Ze=new ot(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new i0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new i0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ot(pe.comparator)}function r0(){return new ot(pe.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hO={and:"AND",or:"OR"};class fO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(i,e){return i.useProto3Json||jh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function dO(i,e){return bh(i,e.toTimestamp())}function vi(i){return Fe(!!i,49232),Se.fromTimestamp(function(n){const s=Yr(n);return new It(s.seconds,s.nanos)}(i))}function Yp(i,e){return np(i,e).canonicalString()}function np(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ZA(i){const e=tt.fromString(i);return Fe(nb(e),10190,{key:e.toString()}),e}function ip(i,e){return Yp(i.databaseId,e.path)}function Im(i,e){const n=ZA(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(JA(n))}function WA(i,e){return Yp(i.databaseId,e)}function mO(i){const e=ZA(i);return e.length===4?tt.emptyPath():JA(e)}function rp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function JA(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function s0(i,e,n){return{name:ip(i,e),fields:n.value.mapValue.fields}}function pO(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Fe(v===void 0||typeof v=="string",58123),Ht.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ht.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?W.UNKNOWN:QA(g.code);return new ue(v,g.message||"")}(f);n=new YA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(i,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):Se.min(),m=new on({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new rh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(i,s.document),u=s.readTime?vi(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(i,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new sO(o,u),m=s.targetId;n=new KA(m,f)}}return n}function gO(i,e){let n;if(e instanceof fu)n={update:s0(i,e.key,e.value)};else if(e instanceof Gh)n={delete:ip(i,e.key)};else if(e instanceof ts)n={update:s0(i,e.key,e.data),updateMask:wO(e.fieldMask)};else{if(!(e instanceof nO))return Ee(16599,{ft:e.type});n={verify:ip(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:dO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),n}function yO(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(Se.min())&&(f=vi(u)),new JN(f,o.transformResults||[])}(n,e))):[]}function _O(i,e){return{documents:[WA(i,e.path)]}}function vO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WA(i,o);const u=function(g){if(g.length!==0)return tb(Yn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Wa(b.field),direction:AO(b.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=tp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function EO(i){let e=mO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(A){const b=eb(A);return b instanceof Yn&&NA(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(N){return new eu(Ja(N.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,jh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(A){const b=!!A.before,D=A.values||[];return new Th(D,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,D=A.values||[];return new Th(D,b)}(n.endAt)),jN(e,o,f,u,m,"F",p,g)}function TO(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return Et.create(Ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>eb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function AO(i){return uO[i]}function bO(i){return cO[i]}function SO(i){return hO[i]}function Wa(i){return{fieldPath:i.canonicalString()}}function Ja(i){return qt.fromServerFormat(i.fieldPath)}function tb(i){return i instanceof Et?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:bO(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const s=n.getFilters().map(o=>tb(o));return s.length===1?s[0]:{compositeFilter:{op:SO(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function wO(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.wt=e}}function IO(i){const e=EO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Cn=new DO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Kr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class DO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(ib,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new co(0)}static lr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="LruGarbageCollector",NO=1048576;function l0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class OO{constructor(e){this.Er=e,this.buffer=new Ct(l0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();l0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(o0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ce(o0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.mr(3e5)})}}class MO{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Uh.le);const s=new OO(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(a0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Xa()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function PO(i,e){return new MO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,En.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ll();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ar();const f=Gl(),m=function(){return Gl()}();return n.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ts)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),$l(v.mutation,g,v.mutation.getFieldMask(),It.now())):f.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>{var A;return m.set(g,new kO(v,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ot((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||En.empty();v=m.applyToLocalView(g,v),s.set(p,v);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,A=jA();v.forEach(b=>{if(!u.has(b)){const D=GA(n.get(b),s.get(b));D!==null&&A.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(qs());let m=Xl,p=u;return f.next(g=>ee.forEach(g,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:m,changes:UA(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,b){return new Ao(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Yt.newInvalidDocument(v)))});let m=Ll();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&$l(v.mutation,g,En.empty(),It.now()),qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:IO(o.bundledQuery),readTime:vi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.overlays=new ot(pe.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=qs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new rO(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ve(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.$r=new Ct(Vt.Ur),this.Kr=new Ct(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new pe(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ve();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Ce(e.Zr,n.Zr)}static Wr(e,n){return Ce(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Vt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new iO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?zp:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ce);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ee.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new pe(u),0);let m=new Ct(Ce);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ee.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ee.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Xr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.ii=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||yN(gN(v),s)<=0||(o.has(v.key)||qh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}si(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new HO(this)}getSize(e){return ee.resolve(this.size)}}class HO extends VO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.persistence=e,this.oi=new Js(n=>Hp(n),Fp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Xp,this.targetCount=0,this.ui=co.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new co(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.ci={},this.overlays={},this.li=new Uh(0),this.hi=!1,this.hi=!0,this.Pi=new zO,this.referenceDelegate=e(this),this.Ti=new FO(this),this.indexManager=new CO,this.remoteDocumentCache=function(o){return new qO(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new RO(n),this.Ei=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new BO(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new GO(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class GO extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Vi=new Xp,this.mi=null}static fi(e){return new Zp(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,s=>{const o=pe.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.yi=new Js(s=>AN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=PO(this,n)}static fi(e,n){return new Sh(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Dr(e,n,s){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _1()?8:EN(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $O;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Xa()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Xa()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):ee.resolve())}ws(e,n){if(XE(n))return ee.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ep(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,ep(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,s,o){return XE(n)||o.isEqual(Se.min())?ee.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Fs(e,f,n,pN(o,Xl)).next(m=>m))})}vs(e,n){let s=new Ct(kA(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Xa()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ys.getDocumentsMatchingQuery(e,n,Kr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",KO=3e8;class YO{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ot(Ce),this.Os=new Js(u=>Hp(u),Fp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function XO(i,e,n,s){return new YO(i,e,n,s)}async function sb(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function ZO(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const A=g.batch,b=A.keys();let D=ee.resolve();return b.forEach(N=>{D=D.next(()=>v.getEntry(p,N)).next(F=>{const L=g.docVersions.get(N);Fe(L!==null,48541),F.version.compareTo(L)<0&&(A.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ab(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function WO(i,e){const n=we(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((v,A)=>{const b=o.get(A);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,v.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,v.addedDocuments,A)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),o=o.insert(A,D),function(F,L,Y){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=KO?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,D,v)&&m.push(n.Ti.updateTargetData(u,D))});let p=ar(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(JO(u,f,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!s.isEqual(Se.min())){const v=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function JO(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ar();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function ex(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tx(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function sp(i,e,n){const s=we(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;ce(Jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function u0(i,e,n){const s=we(i);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const A=we(p),b=A.Os.get(v);return b!==void 0?ee.resolve(A.xs.get(b)):A.Ti.getTargetData(g,v)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(nx(s,BN(e),m),{documents:m,$s:u})))}function nx(i,e,n){let s=i.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class c0{constructor(){this.activeTargetIds=QN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(){this.xo=new c0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new c0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="ConnectivityMonitor";class f0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(h0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(h0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function ap(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ax{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=ap(),m=this.jo(e,n.toUriEncodedString());ce(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),v=ou(g);return this.Jo(e,m,p,s,v).then(A=>(ce(Cm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw ao(Cm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=sx[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class lx extends ax{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ap();return new Promise((m,p)=>{const g=new uA;g.setWithCredentials(!0),g.listenOnce(cA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const A=g.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case eh.TIMEOUT:ce(Qt,`RPC '${e}' ${f} timed out`),p(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const b=g.getStatus();if(ce(Qt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D==null?void 0:D.error;if(N&&N.status&&N.message){const F=function(Y){const ie=Y.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN}(N.status);p(new ue(F,N.message))}else p(new ue(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);ce(Qt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(e,n,s){const o=ap(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dA(),m=fA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=f.createWebChannel(v,p);let b=!1,D=!1;const N=new ox({Zo:L=>{D?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Xo:()=>A.close()}),F=(L,Y,ie)=>{L.listen(Y,te=>{try{ie(te)}catch(he){setTimeout(()=>{throw he},0)}})};return F(A,kl.EventType.OPEN,()=>{D||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),N.__())}),F(A,kl.EventType.CLOSE,()=>{D||(D=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),N.u_())}),F(A,kl.EventType.ERROR,L=>{D||(D=!0,ao(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),N.u_(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),F(A,kl.EventType.MESSAGE,L=>{var Y;if(!D){const ie=L.data[0];Fe(!!ie,16349);const te=ie,he=(te==null?void 0:te.error)||((Y=te[0])===null||Y===void 0?void 0:Y.error);if(he){ce(Qt,`RPC '${e}' stream ${o} received error:`,he);const le=he.status;let ve=function(R){const x=vt[R];if(x!==void 0)return QA(x)}(le),P=he.message;ve===void 0&&(ve=W.INTERNAL,P="Unknown error status: "+le+" with message "+he.message),D=!0,N.u_(new ue(ve,P)),A.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,ie),N.c_(ie)}}),F(m,hA.STAT_EVENT,L=>{L.stat===Qm.PROXY?ce(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Qm.NOPROXY&&ce(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return new fO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="PersistentStream";class lb{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ob(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(d0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ce(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ux extends lb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=pO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?vi(f.readTime):Se.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=rp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Wm(p)?{documents:_O(u,p)}:{query:vO(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XA(u,f.resumeToken);const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=TO(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.L_(n)}}class cx extends lb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=yO(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=rp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>gO(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{}class fx extends hx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,np(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,np(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(W.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class dx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(sr(n),this.oa=!1):ce("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class mx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{ea(this)&&(ce(Ys,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.Ta.add(4),await mu(g),g.da.set("Unknown"),g.Ta.delete(4),await Kh(g)}(this))})}),this.da=new dx(s,o)}}async function Kh(i){if(ea(i))for(const e of i.Ia)await e(!0)}async function mu(i){for(const e of i.Ia)await e(!1)}function ub(i,e){const n=we(i);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ig(n)?ng(n):bo(n).M_()&&tg(n,e))}function eg(i,e){const n=we(i),s=bo(n);n.Pa.delete(e),s.M_()&&cb(n,e),n.Pa.size===0&&(s.M_()?s.N_():ea(n)&&n.da.set("Unknown"))}function tg(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(i).H_(e)}function cb(i,e){i.Aa.Ke(e),bo(i).J_(e)}function ng(i){i.Aa=new lO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.da._a()}function ig(i){return ea(i)&&!bo(i).F_()&&i.Pa.size>0}function ea(i){return we(i).Ta.size===0}function hb(i){i.Aa=void 0}async function px(i){i.da.set("Online")}async function gx(i){i.Pa.forEach((e,n)=>{tg(i,e)})}async function yx(i,e){hb(i),ig(i)?(i.da.ca(e),ng(i)):i.da.set("Unknown")}async function _x(i,e,n){if(i.da.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(i,e)}catch(s){ce(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(i,s)}else if(e instanceof rh?i.Aa.Xe(e):e instanceof KA?i.Aa.ot(e):i.Aa.nt(e),!n.isEqual(Se.min()))try{const s=await ab(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Pa.get(g);v&&u.Pa.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Pa.get(p);if(!v)return;u.Pa.set(p,v.withResumeToken(Ht.EMPTY_BYTE_STRING,v.snapshotVersion)),cb(u,p);const A=new Br(v.target,p,g,v.sequenceNumber);tg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(Ys,"Failed to raise snapshot:",s),await wh(i,s)}}async function wh(i,e,n){if(!To(e))throw e;i.Ta.add(1),await mu(i),i.da.set("Offline"),n||(n=()=>ab(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Ys,"Retrying IndexedDB access"),await n(),i.Ta.delete(1),await Kh(i)})}function fb(i,e){return e().catch(n=>wh(i,n,e))}async function Yh(i){const e=we(i),n=Wr(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:zp;for(;vx(e);)try{const o=await ex(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,Ex(e,o)}catch(o){await wh(e,o)}db(e)&&mb(e)}function vx(i){return ea(i)&&i.ha.length<10}function Ex(i,e){i.ha.push(e);const n=Wr(i);n.M_()&&n.Y_&&n.Z_(e.mutations)}function db(i){return ea(i)&&!Wr(i).F_()&&i.ha.length>0}function mb(i){Wr(i).start()}async function Tx(i){Wr(i).ta()}async function Ax(i){const e=Wr(i);for(const n of i.ha)e.Z_(n.mutations)}async function bx(i,e,n){const s=i.ha.shift(),o=Qp.from(s,e,n);await fb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Yh(i)}async function Sx(i,e){e&&Wr(i).Y_&&await async function(s,o){if(function(f){return aO(f)&&f!==W.ABORTED}(o.code)){const u=s.ha.shift();Wr(s).O_(),await fb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(i,e),db(i)&&mb(i)}async function m0(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(Ys,"RemoteStore received new credentials");const s=ea(n);n.Ta.add(3),await mu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Kh(n)}async function wx(i,e){const n=we(i);e?(n.Ta.delete(2),await Kh(n)):e||(n.Ta.add(2),await mu(n),n.da.set("Unknown"))}function bo(i){return i.Ra||(i.Ra=function(n,s,o){const u=we(n);return u.ra(),new ux(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:px.bind(null,i),n_:gx.bind(null,i),i_:yx.bind(null,i),j_:_x.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),ig(i)?ng(i):i.da.set("Unknown")):(await i.Ra.stop(),hb(i))})),i.Ra}function Wr(i){return i.Va||(i.Va=function(n,s,o){const u=we(n);return u.ra(),new cx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:Tx.bind(null,i),i_:Sx.bind(null,i),X_:Ax.bind(null,i),ea:bx.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await Yh(i)):(await i.Va.stop(),i.ha.length>0&&(ce(Ys,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new rg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(sr("AsyncQueue",`${e}: ${i}`),To(i))return new ue(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.ma=new ot(pe.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ho(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Ix{constructor(){this.queries=g0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=g0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function g0(){return new Js(i=>VA(i),Bh)}async function pb(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new Rx,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=sg(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&ag(n)}async function gb(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(e);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Cx(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&ag(n)}function Dx(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function ag(i){i.ba.forEach(e=>{e.next()})}var op,y0;(y0=op||(op={})).Ca="default",y0.Cache="cache";class yb{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class Nx{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=kA(e),this.Ja=new ro(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new p0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const b=o.get(v),D=qh(this.query,A)?A:null,N=!!b&&this.mutatedKeys.has(b.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;b&&D?b.data.isEqual(D.data)?N!==F&&(s.track({type:3,doc:D}),L=!0):this.eu(b,D)||(s.track({type:2,doc:D}),L=!0,(p&&this.Ha(D,p)>0||g&&this.Ha(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),L=!0):b&&!D&&(s.track({type:1,doc:b}),L=!0,(p||g)&&(m=!0)),L&&(D?(f=f.add(D),u=F?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const f=e.Xa.ga();f.sort((v,A)=>function(D,N){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:L})}};return F(D)-F(N)}(v.type,A.type)||this.Ha(v.doc,A.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new ho(this.query,e.Ja,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new p0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new vb(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new _b(s))}),n}su(e){this.Ga=e.$s,this.ja=Ve();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return ho.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const og="SyncEngine";class Ox{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xx{constructor(e){this.key=e,this._u=!1}}class Mx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Js(m=>VA(m),Bh),this.cu=new Map,this.lu=new Set,this.hu=new ot(pe.comparator),this.Pu=new Map,this.Tu=new Xp,this.Iu={},this.Eu=new Map,this.du=co.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Px(i,e,n=!0){const s=wb(i);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await Eb(s,e,n,!0),o}async function Vx(i,e){const n=wb(i);await Eb(n,e,!0,!1)}async function Eb(i,e,n,s){const o=await tx(i.localStore,_i(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await kx(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ub(i.remoteStore,o),m}async function kx(i,e,n,s,o){i.Ru=(A,b,D)=>async function(F,L,Y,ie){let te=L.view.Za(Y);te.Cs&&(te=await u0(F.localStore,L.query,!1).then(({documents:P})=>L.view.Za(P,te)));const he=ie&&ie.targetChanges.get(L.targetId),le=ie&&ie.targetMismatches.get(L.targetId)!=null,ve=L.view.applyChanges(te,F.isPrimaryClient,he,le);return v0(F,L.targetId,ve.ru),ve.snapshot}(i,A,b,D);const u=await u0(i.localStore,e,!0),f=new Nx(e,u.$s),m=f.Za(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);v0(i,n,g.ru);const v=new Ox(e,n,f);return i.uu.set(e,v),i.cu.has(n)?i.cu.get(n).push(e):i.cu.set(n,[e]),g.snapshot}async function Lx(i,e,n){const s=we(i),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Bh(f,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),lp(s,o.targetId)}).catch(Eo)):(lp(s,o.targetId),await sp(s.localStore,o.targetId,!0))}async function Ux(i,e){const n=we(i),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function jx(i,e,n){const s=$x(i);try{const o=await function(f,m){const p=we(f),g=It.now(),v=m.reduce((D,N)=>D.add(N.key),Ve());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=ar(),F=Ve();return p.Bs.getEntries(D,v).next(L=>{N=L,N.forEach((Y,ie)=>{ie.isValidDocument()||(F=F.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(L=>{A=L;const Y=[];for(const ie of m){const te=tO(ie,A.get(ie.key).overlayedDocument);te!=null&&Y.push(new ts(ie.key,te,IA(te.value.mapValue),un.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Y,m)}).next(L=>{b=L;const Y=L.applyToLocalDocumentSet(A,F);return p.documentOverlayCache.saveOverlays(D,L.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:UA(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await pu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function Tb(i,e){const n=we(i);try{const s=await WO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?Fe(f._u,14607):o.removedDocuments.size>0&&(Fe(f._u,42227),f._u=!1))}),await pu(n,s,e)}catch(s){await Eo(s)}}function _0(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach((v,A)=>{for(const b of A.ya)b.Da(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zx(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let f=new ot(pe.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new $h(Se.min(),new Map,new ot(Ce),f,m);await Tb(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),lg(s)}else await sp(s.localStore,e,!1).then(()=>lp(s,e,n)).catch(Eo)}async function Bx(i,e){const n=we(i),s=e.batch.batchId;try{const o=await ZO(n.localStore,e);bb(n,s,null),Ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Eo(o)}}async function qx(i,e,n){const s=we(i);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Fe(A!==null,37113),v=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);bb(s,e,n),Ab(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await Eo(o)}}function Ab(i,e){(i.Eu.get(e)||[]).forEach(n=>{n.resolve()}),i.Eu.delete(e)}function bb(i,e,n){const s=we(i);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),n&&i.au.Vu(s,n);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||Sb(i,s)})}function Sb(i,e){i.lu.delete(e.path.canonicalString());const n=i.hu.get(e);n!==null&&(eg(i.remoteStore,n),i.hu=i.hu.remove(e),i.Pu.delete(n),lg(i))}function v0(i,e,n){for(const s of n)s instanceof _b?(i.Tu.addReference(s.key,e),Hx(i,s)):s instanceof vb?(ce(og,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||Sb(i,s.key)):Ee(19791,{mu:s})}function Hx(i,e){const n=e.key,s=n.path.canonicalString();i.hu.get(n)||i.lu.has(s)||(ce(og,"New document in limbo: "+n),i.lu.add(s),lg(i))}function lg(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const n=new pe(tt.fromString(e)),s=i.du.next();i.Pu.set(s,new xx(n)),i.hu=i.hu.insert(n,s),ub(i.remoteStore,new Br(_i(Gp(n.path)),s,"TargetPurposeLimboResolution",Uh.le))}}async function pu(i,e,n){const s=we(i),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Wp.Rs(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const v=we(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,b=>ee.forEach(b.ds,D=>v.persistence.referenceDelegate.addReference(A,b.targetId,D)).next(()=>ee.forEach(b.As,D=>v.persistence.referenceDelegate.removeReference(A,b.targetId,D)))))}catch(A){if(!To(A))throw A;ce(Jp,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const D=v.xs.get(b),N=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(N);v.xs=v.xs.insert(b,F)}}}(s.localStore,u))}async function Fx(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(og,"User change. New user:",e.toKey());const s=await sb(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new ue(W.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.ks)}}function Gx(i,e){const n=we(i),s=n.Pu.get(e);if(s&&s._u)return Ve().add(s.key);{let o=Ve();const u=n.cu.get(e);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function wb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zx.bind(null,e),e.au.j_=Cx.bind(null,e.eventManager),e.au.Vu=Dx.bind(null,e.eventManager),e}function $x(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qx.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return XO(this.persistence,new QO,e.initialUser,this.serializer)}yu(e){return new rb(Zp.fi,this.serializer)}pu(e){return new ix}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class Qx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Fe(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xO(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new rb(s=>Sh.fi(s,n),this.serializer)}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fx.bind(null,this.syncEngine),await wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ix}()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=function(u){return new lx(u)}(e.databaseInfo);return function(u,f,m,p){return new fx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new mx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_0(this.syncEngine,n,0),function(){return f0.C()?new f0:new rx}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const A=new Mx(o,u,f,m,p,g);return v&&(A.Au=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(Ys,"RemoteStore shutting down."),u.Ta.add(5),await mu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class Kx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=yA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Jr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await sb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function E0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Yx(i);ce(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>m0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>m0(e.remoteStore,o)),i._onlineComponents=e}async function Yx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Jr,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Nm(i,new Rh)}}else ce(Jr,"Using default OfflineComponentProvider"),await Nm(i,new Qx(void 0));return i._offlineComponents}async function Ib(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Jr,"Using user provided OnlineComponentProvider"),await E0(i,i._uninitializedComponentsProvider._online)):(ce(Jr,"Using default OnlineComponentProvider"),await E0(i,new up))),i._onlineComponents}function Xx(i){return Ib(i).then(e=>e.syncEngine)}async function Cb(i){const e=await Ib(i),n=e.eventManager;return n.onListen=Px.bind(null,e.syncEngine),n.onUnlisten=Lx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ux.bind(null,e.syncEngine),n}function Zx(i,e,n={}){const s=new tr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new Rb({next:b=>{v.Cu(),f.enqueueAndForget(()=>gb(u,A));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new yb(Gp(m.path),v,{includeMetadataChanges:!0,La:!0});return pb(u,A)}(await Cb(i),i.asyncQueue,e,n,s)),s.promise}function Wx(i,e,n={}){const s=new tr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new Rb({next:b=>{v.Cu(),f.enqueueAndForget(()=>gb(u,A)),b.fromCache&&p.source==="server"?g.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new yb(m,v,{includeMetadataChanges:!0,La:!0});return pb(u,A)}(await Cb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jx(i,e,n,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function A0(i){if(!pe.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function b0(i){if(pe.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function bi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(i);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",S0=!0;class w0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=S0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:S0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NO)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aN;switch(s.type){case"firstParty":return new cN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Oh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=T0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),T0.delete(n),s.terminate())}(this),Promise.resolve()}}function eM(i,e,n,s={}){var o;i=bi(i,Zh);const u=ou(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;f.host!==Ob&&f.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Qr(g,m)&&(i._setSettings(g),u&&(eT(`https://${p}`),Oh("Firestore",!0)),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Kt.MOCK_USER;else{v=c1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Kt(b)}i._authCredentials=new oN(new pA(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Gr extends ta{constructor(e,n,s){super(e,n,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new pe(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function $r(i,e,...n){if(i=Tt(i),Nb("collection","path",e),i instanceof Zh){const s=tt.fromString(e,...n);return b0(s),new Gr(i,null,s)}{if(!(i instanceof cn||i instanceof Gr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return b0(s),new Gr(i.firestore,null,s)}}function Ji(i,e,...n){if(i=Tt(i),arguments.length===1&&(e=yA.newId()),Nb("doc","path",e),i instanceof Zh){const s=tt.fromString(e,...n);return A0(s),new cn(i,null,new pe(s))}{if(!(i instanceof cn||i instanceof Gr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return A0(s),new cn(i.firestore,i instanceof Gr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="AsyncQueue";class I0{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ob(this,"async_queue_retry"),this.ec=()=>{const s=Dm();s&&ce(R0,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new tr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!To(e))throw e;ce(R0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,sr("INTERNAL UNHANDLED ERROR: ",C0(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Ee(47125,{_c:C0(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function C0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class na extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new I0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I0(e),this._firestoreClient=void 0,await e}}}function tM(i,e){const n=typeof i=="object"?i:Ap(),s=typeof i=="string"?i:vh,o=Ws(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=l1("firestore");u&&eM(o,...u)}return o}function Wh(i){if(i._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nM(i),i._firestoreClient}function nM(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new wN(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Db(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Kx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Ht.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^__.*__$/;class rM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class xb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{hc:i})}}class hg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ih(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Mb(this.hc)&&iM.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class sM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}gc(e,n,s,o=!1){return new hg({hc:e,methodName:n,fc:s,path:qt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(i){const e=i._freezeSettings(),n=Qh(i._databaseId);return new sM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function fg(i,e,n,s,o,u={}){const f=i.gc(u.merge||u.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",f,s);const m=Pb(s,f);let p,g;if(u.merge)p=new En(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const b=cp(e,A,n);if(!f.contains(b))throw new ue(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);kb(v,b)||v.push(b)}p=new En(v),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new rM(new on(m),p,g)}class nf extends ef{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class dg extends ef{_toFieldTransform(e){return new ZN(e.path,new tu)}isEqual(e){return e instanceof dg}}function aM(i,e,n,s){const o=i.gc(1,e,n);mg("Data must be an object, but it was:",o,s);const u=[],f=on.empty();es(s,(p,g)=>{const v=pg(e,p,n);g=Tt(g);const A=o.Ac(v);if(g instanceof nf)u.push(v);else{const b=gu(g,A);b!=null&&(u.push(v),f.set(v,b))}});const m=new En(u);return new xb(f,m,o.fieldTransforms)}function oM(i,e,n,s,o,u){const f=i.gc(1,e,n),m=[cp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(cp(e,u[b])),p.push(u[b+1]);const g=[],v=on.empty();for(let b=m.length-1;b>=0;--b)if(!kb(g,m[b])){const D=m[b];let N=p[b];N=Tt(N);const F=f.Ac(D);if(N instanceof nf)g.push(D);else{const L=gu(N,F);L!=null&&(g.push(D),v.set(D,L))}}const A=new En(g);return new xb(v,A,f.fieldTransforms)}function lM(i,e,n,s=!1){return gu(n,i.gc(s?4:3,e))}function gu(i,e){if(Vb(i=Tt(i)))return mg("Unsupported field value:",e,i),Pb(i,e);if(i instanceof ef)return function(s,o){if(!Mb(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=gu(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fo)return{bytesValue:XA(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cg)return function(f,m){return{mapValue:{fields:{[wA]:{stringValue:RA},[Eh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return $p(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Xh(s)}`)}(i,e)}function Pb(i,e){const n={};return vA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const u=gu(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Vb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof ug||i instanceof fo||i instanceof cn||i instanceof ef||i instanceof cg)}function mg(i,e,n){if(!Vb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Xh(n);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function cp(i,e,n){if((e=Tt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return pg(i,e);throw Ih("Field path arguments must be of type string or ",i,!1,void 0,n)}const uM=new RegExp("[~\\*/\\[\\]]");function pg(i,e,n){if(e.search(uM)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ih(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(W.INVALID_ARGUMENT,m+i+p)}function kb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends Lb{data(){return super.data()}}function rf(i,e){return typeof e=="string"?pg(i,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class Ub extends gg{}function sf(i,e,...n){let s=[];e instanceof gg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof af).length;if(f>1||f>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class af extends Ub{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return jb(e._query,n),new ta(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=tf(e.firestore);return function(u,f,m,p,g,v,A){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){N0(A,v);const N=[];for(const F of A)N.push(D0(p,u,F));b={arrayValue:{values:N}}}else b=D0(p,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||N0(A,v),b=lM(m,f,A,v==="in"||v==="not-in");return Et.create(g,v,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yg(i,e,n){const s=e,o=rf("where",i);return af._create(o,s,n)}class _g extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jb(f,p),f=Jm(f,p)}(e._query,n),new ta(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends Ub{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function fM(i,e="asc"){const n=e,s=rf("orderBy",i);return vg._create(s,n)}function D0(i,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PA(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FE(i,new pe(s))}if(n instanceof cn)return FE(i,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function N0(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dM{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Eh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new cg(u)}convertGeoPoint(e){return new ug(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(nb(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends Lb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sh extends zb{data(e={}){return super.data(e)}}class mM{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:pM(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i){i=bi(i,cn);const e=bi(i.firestore,na);return Zx(Wh(e),i._key).then(n=>_M(e,i,n))}class qb extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function of(i){i=bi(i,ta);const e=bi(i.firestore,na),n=Wh(e),s=new qb(e);return hM(i._query),Wx(n,i._query).then(o=>new mM(e,s,i,o))}function hp(i,e,n){i=bi(i,cn);const s=bi(i.firestore,na),o=Eg(i.converter,e,n);return lf(s,[fg(tf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,un.none())])}function gM(i){return lf(bi(i.firestore,na),[new Gh(i._key,un.none())])}function yM(i,e){const n=bi(i.firestore,na),s=Ji(i),o=Eg(i.converter,e);return lf(n,[fg(tf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,un.exists(!1))]).then(()=>s)}function lf(i,e){return function(s,o){const u=new tr;return s.asyncQueue.enqueueAndForget(async()=>jx(await Xx(s),o,u)),u.promise}(Wh(i),e)}function _M(i,e,n){const s=n.docs.get(e._key),o=new qb(i);return new zb(i,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}set(e,n,s){this._verifyNotCommitted();const o=Om(e,this._firestore),u=Eg(o.converter,n,s),f=fg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,un.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Om(e,this._firestore);let f;return f=typeof(n=Tt(n))=="string"||n instanceof Jh?oM(this._dataReader,"WriteBatch.update",u._key,n,s,o):aM(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Om(e,this._firestore);return this._mutations=this._mutations.concat(new Gh(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Om(i,e){if((i=Tt(i)).firestore!==e)throw new ue(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ru(){return new dg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(i){return Wh(i=bi(i,na)),new vM(i,e=>lf(i,e))}(function(e,n=!0){(function(o){vo=o})(yo),Ei(new Kn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new na(new lN(s.getProvider("auth-internal")),new hN(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Vn(xE,ME,e),Vn(xE,ME,"esm2017")})();const TM={apiKey:"AIzaSyCWn6taqzEraho6NfRrwqF0c-C_B5j5n60",authDomain:"imobiliario-independente.firebaseapp.com",projectId:"imobiliario-independente",storageBucket:"imobiliario-independente.firebasestorage.app",messagingSenderId:"282984057819",appId:"1:282984057819:web:d4aa98d58d9e7ca88275fe",measurementId:"G-F4QBQYXD5D"},Tg=oT(TM),xm=rN(Tg),an=tM(Tg);tD(Tg);const Hb=H.createContext();function ia(){return H.useContext(Hb)}function AM({children:i}){const[e,n]=H.useState(null),[s,o]=H.useState(void 0),[u,f]=H.useState(null),[m,p]=H.useState(!0);async function g(){const N=new Xi;return d2(xm,N)}async function v(){return console.log("[AuthContext] Logging out user."),o(null),QD(xm)}const A=async N=>{if(f(null),!N||!N.uid){console.log("[AuthContext] fetchUserProfileData called with no UID, setting profile to null."),o(null);return}console.log(`[AuthContext] Attempting to fetch profile for UID: ${N.uid}`);const F=Ji(an,"users",N.uid);try{const L=await Bb(F);if(L.exists()){const Y={uid:L.id,...L.data()};console.log("[AuthContext] Profile FOUND in Firestore:",Y),o(Y)}else console.warn(`[AuthContext] Profile NOT found in Firestore for UID: ${uid}. User email: ${e==null?void 0:e.email}`),o(null)}catch(L){console.error("[AuthContext] Error fetching user profile from Firestore:",L),f(L),o(null)}};H.useEffect(()=>{p(!0);const N=$D(xm,async F=>{console.log("[AuthContext] onAuthStateChanged triggered. User object:",F?{uid:F.uid,email:F.email}:"User is null"),f(null),n(F),F?await A(F):(console.log("[AuthContext] User is signed out."),o(null)),p(!1)});return()=>{console.log("[AuthContext] Unsubscribing from onAuthStateChanged."),N()}},[]);const D={currentUser:e,userProfile:s,profileError:u,loginWithGoogle:g,logout:v,authLoading:m,refreshUserProfile:async()=>{e?(console.log(`[AuthContext] refreshUserProfile called for UID: ${e.uid}`),await A(e)):console.log("[AuthContext] refreshUserProfile called, but no current user.")}};return O.jsx(Hb.Provider,{value:D,children:!m&&i})}function bM({agent:i}){const{currentUser:e,logout:n,userProfile:s}=ia();go();const o=async()=>{try{await n()}catch(u){console.error("Failed to log out",u)}};return O.jsx("header",{className:"app-header",children:O.jsxs("div",{className:"header-content",children:[O.jsxs(Fn,{to:"/",className:"logo-title-link",children:[O.jsx("img",{src:"https://res.cloudinary.com/dynnpabnw/image/upload/v1748059246/ACImob1_NBG_bb8m36.png",alt:"AC Solues Logo",className:"header-logo-img"}),O.jsx("h1",{children:"Catlogo de Imobilirio"})]}),i&&O.jsxs("div",{className:"agent-info",children:[i.profilePicture&&O.jsx("img",{src:i.profilePicture,alt:i.displayName,className:"agent-avatar",onError:u=>{u.target.style.display="none"}}),O.jsxs("div",{children:[O.jsx("h2",{children:i.displayName}),(i.phone||i.email)&&O.jsxs("p",{children:[i.phone&&O.jsx("span",{children:i.phone}),i.phone&&i.email&&O.jsx("span",{children:" | "}),i.email&&O.jsx("span",{children:i.email})]})]})]}),O.jsx("div",{className:"user-auth-section",children:e&&s?O.jsxs("div",{className:"logged-in-user-details",children:[O.jsx(Fn,{to:"/my-profile",className:"header-logout-link-button",children:"Meu Perfil"}),O.jsx(Fn,{to:`/agent/${e.uid}`,className:"header-logout-link-button",children:"Minha Pagina"}),O.jsx(Fn,{to:"/my-profile/my-listings",className:"header-logout-link-button",children:"Gerir Minhas Listagens"}),O.jsxs("button",{onClick:o,className:"header-logout-link-button",children:[s.displayName||e.email," >> ","Logout"]})]}):O.jsx(Fn,{to:"/login",className:"header-login-link",children:"Login"})})]})})}function SM({children:i}){const{currentUser:e,userProfile:n}=ia();console.log("[OwnerProtectedRoute] Rendering. currentUser:",e?{uid:e.uid,email:e.email}:null),console.log("[OwnerProtectedRoute] userProfile:",n),console.log("[OwnerProtectedRoute] userProfile.role:",n?n.role:"userProfile is null");const s=Ln();return e?!n||n.role!=="owner"?O.jsx(eo,{to:"/unauthorized",replace:!0}):i:O.jsx(eo,{to:"/login",state:{from:s},replace:!0})}var Mm={exports:{}},Pm,O0;function wM(){if(O0)return Pm;O0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pm=i,Pm}var Vm,x0;function RM(){if(x0)return Vm;x0=1;var i=wM();function e(){}function n(){}return n.resetWarningCache=e,Vm=function(){function s(f,m,p,g,v,A){if(A!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Vm}var M0;function IM(){return M0||(M0=1,Mm.exports=RM()()),Mm.exports}var CM=IM();const Fs=fp(CM);function ah({children:i}){const{currentUser:e,userProfile:n,loading:s}=ia(),o=Ln();return s?O.jsx("div",{className:"container",children:O.jsx("p",{children:"Loading user information..."})}):e?n===void 0&&e?(console.warn("ProtectedRoute: userProfile is undefined, but authLoading is false. This might indicate a timing issue in AuthContext. Treating as loading. Path:",o.pathname),O.jsx("div",{className:"container",children:O.jsx("p",{children:"Verifying profile information..."})})):n===null&&e?o.pathname==="/my-profile"?i:(console.warn("ProtectedRoute: User authenticated but no Firestore profile found. Redirecting to /my-profile. Path:",o.pathname),o.pathname!=="/my-profile"?O.jsx(eo,{to:"/my-profile",state:{from:o,message:"Please complete your profile."},replace:!0}):i):n&&n.subscriptionActive!==!0?(console.warn(`ProtectedRoute: User ${e.uid} does not have an active subscription. Redirecting.`),O.jsx(eo,{to:"/unauthorized",state:{from:o,message:"Active subscription required."},replace:!0})):i:O.jsx(eo,{to:"/login",state:{from:o},replace:!0})}ah.propTypes={children:Fs.node.isRequired};function DM(){const[i,e]=H.useState([]),[n,s]=H.useState(!0),[o,u]=H.useState(null);return H.useEffect(()=>{(async()=>{s(!0),u(null);try{const m=$r(an,"users"),p=sf(m),g=await of(p),v=[];g.forEach(A=>{v.push({id:A.id,...A.data()})}),e(v)}catch(m){console.error("Error fetching agents from Firestore:",m),u("Failed to load agents. Please try again later.")}s(!1)})()},[]),n?O.jsx("p",{children:"Loading agents..."}):o?O.jsx("p",{style:{color:"red"},children:o}):i.length===0?O.jsx("p",{children:"No agents available at the moment."}):O.jsxs("div",{className:"homepage",children:[O.jsx("h2",{children:"Select an Agent"}),O.jsx("ul",{className:"agent-list",children:i.map(f=>O.jsx("li",{className:"agent-list-item",children:O.jsxs(Fn,{to:`/agent/${f.id}`,children:[O.jsx("img",{src:f.profilePicture,alt:f.displayName,className:"agent-thumbnail",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="block"}}),O.jsx("div",{className:"agent-thumbnail-placeholder",style:{display:"none"},children:"No Img"}),O.jsx("span",{children:f.displayName})]})},f.id))})]})}function NM({houses:i,onHouseSelect:e,selectedHouseId:n}){return!i||i.length===0?O.jsx("aside",{className:"house-list-pane",children:O.jsx("p",{children:"No houses listed for this agent."})}):O.jsxs("aside",{className:"house-list-pane",children:[O.jsx("h3",{children:"Available Houses"}),O.jsx("ul",{children:i.map(s=>O.jsxs("li",{onClick:()=>e(s),className:s.id===n?"selected":"",children:[O.jsx("img",{src:s.images[0].picUrl,alt:s.name,className:"house-thumbnail",onError:o=>o.target.src="/placeholder-house.png"}),O.jsxs("div",{className:"house-list-info",children:[O.jsx("h4",{children:s.name}),O.jsx("p",{children:s.price})]})]},s.id))})]})}function OM({house:i}){const[e,n]=H.useState(0);if(!i)return O.jsx("section",{className:"house-viewer",children:O.jsx("p",{children:"No house selected."})});const s=()=>{n(u=>(u+1)%i.images.length)},o=()=>{n(u=>(u-1+i.images.length)%i.images.length)};return O.jsxs("section",{className:"house-viewer",children:[O.jsx("h2",{children:i.title}),O.jsx("p",{className:"house-description",children:i.description}),O.jsx("p",{className:"house-address",children:i.address}),O.jsx("span",{className:"house-price",children:i.price}),O.jsx("div",{className:"image-gallery",children:i.images&&i.images.length>0?O.jsxs(O.Fragment,{children:[O.jsx("img",{src:i.images[e].picUrl,alt:`${i.title} - view ${e+1}`,className:"main-house-image",onError:u=>u.target.src="/placeholder-house-large.png"}),O.jsx("p",{children:i.images[e].picDescription}),i.images.length>1&&O.jsxs("div",{className:"gallery-nav",children:[O.jsx("button",{onClick:o,children:"< Prev"}),O.jsx("button",{onClick:s,children:"Next >"})]})]}):O.jsx("img",{src:"/placeholder-house-large.png",alt:"Placeholder",className:"main-house-image"})})]})}function xM({setSelectedAgentInApp:i}){const{agentId:e,"*":n}=sR(),s=go();Ln();const[o,u]=H.useState(null),[f,m]=H.useState(!0),[p,g]=H.useState(null),[v,A]=H.useState(null),[b,D]=H.useState([]),[N,F]=H.useState(!0),L=ie=>ie&&ie.startsWith("house/")?ie.substring(6):null;H.useEffect(()=>{const ie=async he=>{if(he){F(!0);try{const le=$r(an,"houses"),ve=sf(le,yg("agentUid","==",he)),P=await of(ve),w=[];P.forEach(x=>{w.push({id:x.id,...x.data()})}),D(w);const R=L(n);R&&w.find(x=>x.id===R)?A(w.find(x=>x.id===R)):w.length>0?(A(w[0]),R||s(`/agent/${e}/house/${w[0].id}`,{replace:!0})):A(null)}catch(le){console.error("Error fetching agent houses:",le)}F(!1)}};return(async()=>{if(!e){m(!1),g("No agent ID provided."),s("/");return}m(!0),g(null);try{const he=Ji(an,"users",e),le=await Bb(he);if(le.exists()){const ve={id:le.id,...le.data()};u(ve),i(ve),await ie(le.id)}else g("Agent not found.")}catch(he){console.error("Error fetching agent data:",he),g("Failed to load agent details.")}m(!1)})(),()=>i(null)},[e,n,s,i]);const Y=ie=>{A(ie),s(`/agent/${e}/house/${ie.id}`)};return f||o&&N?O.jsx("p",{children:"Loading agent details..."}):p?O.jsx("p",{style:{color:"red"},children:p}):o?O.jsx("div",{className:"agent-detail-page",children:O.jsxs("div",{className:"content-area",children:[O.jsx(NM,{houses:b,onHouseSelect:Y,selectedHouseId:v==null?void 0:v.id}),O.jsxs("div",{className:"house-viewer-container",children:[N&&!v&&O.jsx("p",{children:"Loading houses..."}),!N&&b.length===0&&O.jsx("p",{children:"This agent has no houses listed yet."}),!N&&b.length>0&&!v&&O.jsx("p",{children:"Select a house to view details."}),v&&O.jsx(OM,{house:v}),"        "]})]})}):O.jsx("p",{children:"Agent not found."})}function MM(){var v,A;const{loginWithGoogle:i,currentUser:e,userProfile:n,loading:s}=ia(),o=go(),u=Ln(),[f,m]=H.useState(""),p=H.useMemo(()=>{var b,D;return((D=(b=u.state)==null?void 0:b.from)==null?void 0:D.pathname)||"/"},[(A=(v=u.state)==null?void 0:v.from)==null?void 0:A.pathname]);H.useEffect(()=>{s||(e&&n?n.role==="owner"?o(p==="/login"?"/":p,{replace:!0}):n.role==="agent"&&n.userAppID?o(`/agent/${n.userAppID}`,{replace:!0}):(console.warn("LoginPage: User has profile but unrecognized role/userAppID. Navigating to /unauthorized. Profile:",n),o("/unauthorized",{replace:!0})):e&&n===null&&(console.log("User authenticated but not registered in the system. Redirecting to unauthorized."),u.pathname!=="/my-profile"&&o("/my-profile",{replace:!0})))},[e,n,s,o,p,u.pathname]);const g=async()=>{m("");try{await i()}catch(b){console.error("Login failed:",b),m("Failed to log in. Please try again.")}};return O.jsx("div",{className:"login-page-container",children:O.jsxs("div",{className:"login-box",children:[O.jsx("h2",{children:"Login"}),f&&O.jsx("p",{className:"error-message",children:f}),O.jsxs("button",{onClick:g,className:"google-login-button",children:[O.jsx("img",{src:"https://res.cloudinary.com/dynnpabnw/image/upload/v1748059246/google-logo_v32mr7.svg",alt:"Google sign-in"}),"Sign in with Google"]}),O.jsx("p",{className:"login-note",children:"Only registered agents and site owner can log in."})]})})}const PM="dynnpabnw",VM="ml_default  ",kM=`https://api.cloudinary.com/v1_1/${PM}/image/upload`,LM=(i,e)=>new Promise((n,s)=>{const o=new FormData;o.append("file",i),o.append("upload_preset",VM);const u=new XMLHttpRequest;u.open("POST",kM,!0),u.upload.onprogress=f=>{if(f.lengthComputable&&e){const m=Math.round(f.loaded/f.total*100);e(m)}},u.onload=()=>{u.status>=200&&u.status<300?n(JSON.parse(u.responseText)):s(new Error(`Cloudinary upload failed: ${u.statusText} - ${u.responseText}`))},u.onerror=()=>{s(new Error("Cloudinary upload failed due to a network error."))},u.send(o)}),Fb=async(i,e)=>{const n=i.map(async(s,o)=>{if(s.file&&!s.picUrl){e(o,{progress:0,error:null});try{const u=await LM(s.file,f=>{e(o,{progress:f})});return{picUrl:u.secure_url,publicId:u.public_id,picDisplayPosition:s.picDisplayPosition,picDescription:s.picDescription}}catch(u){throw console.error(`Error uploading image ${o} (${s.file.name}):`,u),e(o,{error:u.message,progress:0}),new Error(`Failed to upload image: ${s.file.name}. ${u.message}`)}}return s});return Promise.all(n)};function UM(){const{currentUser:i,userProfile:e,refreshUserProfile:n,logout:s}=ia(),[o,u]=H.useState(!1),[f,m]=H.useState({displayName:"",email:"",phone:"",bio:""}),[p,g]=H.useState(!1),[v,A]=H.useState(""),[b,D]=H.useState(!1),[N,F]=H.useState(null),[L,Y]=H.useState(null);if(!i)return O.jsx(eo,{to:"/login",replace:!0});H.useEffect(()=>{m({displayName:(e==null?void 0:e.displayName)||(i==null?void 0:i.displayName)||"",email:(e==null?void 0:e.email)||(i==null?void 0:i.email)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""}),F(null),Y(null)},[i,e]),H.useEffect(()=>()=>{L&&URL.revokeObjectURL(L)},[L]);const ie=w=>{const{name:R,value:x}=w.target;m(k=>({...k,[R]:x}))},te=w=>{const R=w.target.files[0];R?(L&&URL.revokeObjectURL(L),F(R),Y(URL.createObjectURL(R))):(F(null),Y(null))},he=async w=>{if(w.preventDefault(),!i){A("Utilizador no encontrado. Por favor, faa login novamente.");return}g(!0),A("");try{const R=Ji(an,"users",i.uid);let x={displayName:f.displayName,phone:f.phone,email:f.email,bio:f.bio};if(N){const k=[{file:N,picDisplayPosition:1,picDescription:`${f.displayName||i.displayName}'s profile picture`}],C=await Fb(k,(st,Be)=>console.log(`Profile pic upload state for index ${st}:`,Be));if(C&&C.length>0&&C[0].picUrl){const st=C[0].picUrl,Be=C[0].publicId;if(e&&e.profilePicturePublicId){const K=e.profilePicturePublicId;if(K!==Be){const ae=Ji($r(an,"imagesToDelete"));await hp(ae,{publicIds:K,loggedByUid:i.uid,contextInfo:`Profile picture change for user ${i.uid}. Old pic publicId: ${K}`,loggedAt:ru()}),console.log(`Logged old profile picture publicId ${K} for deletion.`)}}x.profilePicture=st,x.profilePicturePublicId=Be}else throw new Error("Falha ao carregar a imagem de perfil.")}await hp(R,x,{merge:!0}),u(!1),n&&await n(),L&&N&&URL.revokeObjectURL(L),F(null),Y(null)}catch(R){console.error("Error updating profile:",R),A("Falha ao atualizar o perfil. Por favor, tente novamente.")}g(!1)},le=()=>{m({displayName:(e==null?void 0:e.displayName)||(i==null?void 0:i.displayName)||"",email:(e==null?void 0:e.email)||(i==null?void 0:i.email)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""}),L&&URL.revokeObjectURL(L),F(null),Y(null),u(!1),A("")},ve=async()=>{if(A(""),window.prompt("Esta aco  irreversvel e apagar toda a sua informao, incluindo as suas listagens de casas. Para confirmar, escreva 'APAGAR MINHA CONTA' na caixa abaixo:")!=="APAGAR MINHA CONTA"){A("Confirmao incorrecta. A conta no foi apagada.");return}D(!0);try{const R=i.uid,x=$r(an,"houses"),k=sf(x,yg("agentUid","==",R)),U=await of(k),C=EM(an);if(U.empty)console.log(`No houses found for user ${R}.`);else{console.log(`Found ${U.size} house(s) for user ${R} to delete and log images.`);for(const Be of U.docs){const K=Be.data(),ae=Be.id;if(K.images&&Array.isArray(K.images)&&K.images.length>0){const de=K.images.map(De=>De.publicId).filter(De=>!!De);de.forEach(De=>{if(De){const M=Ji($r(an,"imagesToDelete"));C.set(M,{publicId:De,loggedByUid:R,loggedAt:ru(),sourceDescription:`Image from house ${ae} (owner: ${R}) during account deletion.`})}}),console.log(`Queued logging of ${de.length} publicIds for house ${ae} to imagesToDelete.`)}C.delete(Be.ref),console.log(`Queued deletion of house ${ae}.`)}}const st=Ji(an,"users",R);C.delete(st),console.log(`Queued deletion of user profile for ${R}.`),await C.commit(),console.log("Firestore data deletion and logging complete."),s&&await s(),alert("A sua informao foi removida. A sua conta ser totalmente desactivada por um administrador em breve.")}catch(R){console.error("Error deleting account:",R),A(R.message||"Falha ao apagar a conta. Por favor, tente novamente ou contacte o suporte."),D(!1)}},P=L||(e==null?void 0:e.profilePicture);return O.jsxs("div",{className:"agent-profile-page",children:[O.jsx("h2",{children:"Meu Perfil de Agent"}),P&&O.jsx("img",{src:P,alt:e.displayName||"Profile",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px"},onError:w=>{w.target.style.display="none"}}),v&&O.jsx("p",{className:"error-message",children:v}),o?O.jsxs("form",{onSubmit:he,children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"displayName",children:"Nome:"}),O.jsx("input",{type:"text",id:"displayName",name:"displayName",value:f.displayName,onChange:ie})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"phone",children:"Contacto:"}),O.jsx("input",{type:"tel",id:"phone",name:"phone",value:f.phone,onChange:ie})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"bio",children:"Bio:"}),O.jsx("textarea",{id:"bio",name:"bio",value:f.bio,onChange:ie,rows:"4"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"profilePicture",children:"Foto de Perfil:"}),O.jsx("input",{type:"file",id:"profilePicture",name:"profilePicture",accept:"image/*",onChange:te})]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Email:"})," ",f.email||"N/A"]}),O.jsxs("div",{className:"form-actions",children:[O.jsx("button",{type:"submit",disabled:p,children:p?"Salvando...":"Salvar Alteraes"}),O.jsx("button",{type:"button",onClick:le,disabled:p,children:"Cancelar"})]})]}):O.jsxs("div",{children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Nome:"})," ",f.displayName||"No definido"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Email:"})," ",f.email||"No definido"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Contacto:"})," ",f.phone||"No definido"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Bio:"})," ",f.bio||"No definido"]}),O.jsx("button",{onClick:()=>u(!0),className:"btn edit-button",children:"Editar Perfil"}),O.jsxs("div",{className:"danger-zone",style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid red"},children:[O.jsx("h4",{children:"Zona de Perigo"}),O.jsx("button",{onClick:ve,className:"btn btn-delete",disabled:b||p,children:b?"Apagando Conta...":"Apagar Minha Conta"})]})]})]})}const Gb=({images:i,onImagesChange:e,uploadStates:n={}})=>{const s=f=>{const p=Array.from(f.target.files).map((v,A)=>({file:v,previewUrl:URL.createObjectURL(v),picDisplayPosition:((i==null?void 0:i.length)||0)+A+1,picDescription:""})),g=[...i||[],...p].sort((v,A)=>v.picDisplayPosition-A.picDisplayPosition);e(g),f.target.value=null},o=(f,m,p)=>{const g=[...i];g[f]={...g[f],[m]:p},m==="picDisplayPosition"&&(g[f][m]=parseInt(p,10)||0,g.sort((v,A)=>v.picDisplayPosition-A.picDisplayPosition)),e(g)},u=f=>{const m=i[f];m.previewUrl&&URL.revokeObjectURL(m.previewUrl);const p=i.filter((g,v)=>v!==f);e(p)};return O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"house-images-input",children:"Images: "}),O.jsx("input",{type:"file",id:"house-images-input",multiple:!0,onChange:s,accept:"image/*"}),i&&i.length>0&&O.jsxs("div",{className:"image-previews",children:[O.jsx("h4",{children:"Imagens Selecionadas:"}),i.map((f,m)=>{var p,g;return O.jsxs("div",{className:`image-preview-item ${(p=n[m])!=null&&p.error?"upload-error":""} ${((g=n[m])==null?void 0:g.progress)===100?"upload-success":""}`,children:[O.jsxs("div",{className:"image-container",children:[O.jsx("img",{src:f.previewUrl||f.picUrl,alt:f.picDescription||`Preview ${m+1}`,style:{width:"100px",height:"100px",objectFit:"cover"}}),n[m]&&typeof n[m].progress=="number"&&n[m].progress<100&&!n[m].error&&O.jsxs("div",{className:"upload-progress-overlay",children:["Uploading: ",n[m].progress,"%"]})]}),O.jsxs("div",{className:"image-metadata-inputs",children:[O.jsx("label",{htmlFor:`picDisplayPosition-${m}`,children:"Posio na lista:"}),O.jsx("input",{type:"number",id:`picDisplayPosition-${m}`,value:f.picDisplayPosition,onChange:v=>o(m,"picDisplayPosition",v.target.value),min:"1"}),O.jsx("label",{htmlFor:`picDescription-${m}`,children:"Descrio da Imagem:"}),O.jsx("textarea",{id:`picDescription-${m}`,value:f.picDescription,onChange:v=>o(m,"picDescription",v.target.value),rows:"2"})]}),O.jsx("button",{type:"button",onClick:()=>u(m),children:"Remove"})]},f.previewUrl||f.picUrl||m)})]})]})};Gb.propTypes={images:Fs.arrayOf(Fs.object).isRequired,onImagesChange:Fs.func.isRequired};const $b=({onSubmit:i,initialData:e=null,isLoading:n=!1})=>{const[s,o]=H.useState({title:"",description:"",address:"",price:"",bedrooms:"",bathrooms:"",area:"",images:[]}),[u,f]=H.useState({}),[m,p]=H.useState({});H.useEffect(()=>{var D,N,F,L;e&&o({title:e.title||"",description:e.description||"",address:e.address||"",price:((D=e.price)==null?void 0:D.toString())||"",bedrooms:((N=e.bedrooms)==null?void 0:N.toString())||"",bathrooms:((F=e.bathrooms)==null?void 0:F.toString())||"",area:((L=e.area)==null?void 0:L.toString())||"",images:e.images||[]})},[e]),H.useEffect(()=>()=>{s.images.forEach(D=>{D.previewUrl&&URL.revokeObjectURL(D.previewUrl)})},[s.images]);const g=D=>{const{name:N,value:F}=D.target;o(L=>({...L,[N]:F})),u[N]&&f(L=>({...L,[N]:null}))},v=()=>{const D={};return s.title.trim()||(D.title="Nome/Titulo  necessario."),s.images.length===0&&(D.title="Carrega pelo menos uma imgem"),f(D),Object.keys(D).length===0},A=async D=>{if(D.preventDefault(),console.log("Form submission initiated. Validating form..."),!v())return;let N;try{N=await Fb(s.images,(L,Y)=>{p(ie=>({...ie,[L]:{...ie[L]||{},...Y}}))})}catch(L){console.error("Error during image upload process:",L);return}const F={...s,price:parseFloat(s.price),bedrooms:parseInt(s.bedrooms,10),bathrooms:s.bathrooms?parseInt(s.bathrooms,10):0,area:s.area?parseFloat(s.area):0,images:N.map(L=>({picUrl:L.picUrl,publicId:L.publicId,picDisplayPosition:L.picDisplayPosition,picDescription:L.picDescription}))};console.log("Final submission data to be sent to parent:",JSON.stringify(F,null,2)),p({}),i(F)},b=D=>{o(N=>({...N,images:D}))};return O.jsxs("form",{onSubmit:A,className:"house-form",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"title",children:"Titulo: "}),O.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:g}),u.title&&O.jsx("p",{className:"error-text",children:u.title})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"description",children:"Descrio no Imvel: "}),O.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:g,rows:"5"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"address",children:"Endereo: "}),O.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:g}),u.address&&O.jsx("p",{className:"error-text",children:u.address})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"price",children:"Montante: "}),O.jsx("input",{type:"text",id:"price",name:"price",value:s.price,onChange:g}),u.price&&O.jsx("p",{className:"error-text",children:u.price})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"bedrooms",children:"Quartos: "}),O.jsx("input",{type:"text",id:"bedrooms",name:"bedrooms",value:s.bedrooms,onChange:g}),u.bedrooms&&O.jsx("p",{className:"error-text",children:u.bedrooms})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"bathrooms",children:"Banheiros: "}),O.jsx("input",{type:"text",id:"bathrooms",name:"bathrooms",value:s.bathrooms,onChange:g})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"area",children:"rea: "}),O.jsx("input",{type:"text",id:"area",name:"area",value:s.area,onChange:g})]}),O.jsx(Gb,{images:s.images,onImagesChange:b,uploadStates:m}),O.jsx("button",{type:"submit",disabled:n,children:n?e?"Actualizando...":"Adicionando...":e?"Actualizar Listagem":"Adicionar Listagem"})]})};$b.propTypes={onSubmit:Fs.func.isRequired,initialData:Fs.object,isLoading:Fs.bool};function jM(){const{currentUser:i}=ia(),e=go(),[n,s]=H.useState(!1),[o,u]=H.useState(null),f=async m=>{if(!i){u("You must be logged in to add a listing.");return}s(!0),u(null);try{const p={...m,agentUid:i.uid,createdAt:ru(),updatedAt:ru()},g=await yM($r(an,"houses"),p);console.log("Document written with ID: ",g.id),e(`/agent/${i.uid}/house/${g.id}`)}catch(p){console.error("Error adding document: ",p),u("Failed to add listing. Please try again. "+p.message)}finally{s(!1)}};return O.jsxs("div",{children:[O.jsx("h2",{children:"Add New House Listing"}),o&&O.jsx("p",{className:"error-message",children:o}),O.jsx($b,{onSubmit:f,isLoading:n})]})}function zM(){const{currentUser:i}=ia(),[e,n]=H.useState([]),[s,o]=H.useState(!0),[u,f]=H.useState(null),[m,p]=H.useState(null);H.useEffect(()=>{if(!i){o(!1),f("Utilizador no autenticado .");return}(async()=>{o(!0),f(null);try{const A=$r(an,"houses"),b=sf(A,yg("agentUid","==",i.uid),fM("createdAt","desc")),N=(await of(b)).docs.map(F=>({id:F.id,...F.data()}));n(N)}catch(A){console.error("Error fetching listings:",A),f("Falhou ao carregar a sua Listagem. Tente novamente mais tarde.")}finally{o(!1)}})()},[i]);const g=async v=>{if(!window.confirm("Tem a certeza que quer apagar esta listagem? Esta aco no pode ser desfeita."))return;p(v),f(null);const A=e.find(b=>b.id===v);try{if(A&&A.images&&A.images.length>0){const D=A.images.map(N=>N.publicId).filter(N=>!!N);for(const N of D)if(N){const F=Ji($r(an,"imagesToDelete"));await hp(F,{publicId:N,loggedByUid:i.uid,loggedAt:ru(),sourceDescription:`Image from deleted house ${v} by user ${i.uid}.`})}console.log(`Logged ${D.length} publicIds to imagesToDelete for house ${v}.`)}const b=Ji(an,"houses",v);await gM(b),console.log(`Document ${v} from houses deleted successfully.`),n(D=>D.filter(N=>N.id!==v))}catch(b){console.error("Error deleting listing:",b),f(b.message||"Falhou ao apagar a listagem. Tente novamente.")}finally{p(null)}};return s?O.jsx("p",{children:"Carregando a sua Listagem"}):u?O.jsx("p",{className:"error-message",children:u}):O.jsxs("div",{className:"manage-listings-page",children:[O.jsx("h2",{children:"Minha listagem"}),O.jsx(Fn,{to:"/my-profile/add-listing",className:"add-listing-link",children:O.jsx("strong",{children:"Adicionar Casa"})}),e.length===0?O.jsxs("p",{children:["No existem casas listadas.",O.jsx(Fn,{to:"/my-profile/add-listing",children:" Adicione Agora!"})]}):O.jsx("ul",{className:"listings-list",children:e.map(v=>O.jsxs("li",{className:"listing-item",children:[O.jsxs("div",{className:"listing-info",children:[O.jsx("h3",{children:v.title}),O.jsx("p",{children:v.address||"N/A"}),O.jsxs("p",{children:["Montante: ",v.price?`$${v.price.toLocaleString()}`:"N/A"]}),v.images&&v.images.length>0&&v.images[0].picUrl&&O.jsx("img",{src:v.images[0].picUrl,alt:v.title,className:"listing-thumbnail"})]}),O.jsx("div",{className:"listing-actions",children:O.jsx("button",{className:"btn btn-delete",onClick:()=>g(v.id),disabled:m===v.id,children:m===v.id?"Apagando...":"Apagar"})})]},v.id))})]})}function BM(){return O.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"50px"},children:[O.jsx("h2",{children:"Access Denied"}),O.jsx("p",{children:"You do not have permission to view this page, or your account is not configured for this access."}),O.jsx(Fn,{to:"/login",children:"Go to Login"})]})}function qM(){const[i,e]=H.useState(!0),[n,s]=H.useState(null),[o,u]=H.useState(null);return H.useEffect(()=>{e(!1)},[]),i?O.jsx("div",{className:"container",children:O.jsx("p",{children:"Loading application data..."})}):n?O.jsx("div",{className:"container",children:O.jsxs("p",{children:["Error loading data: ",n,"."]})}):O.jsxs(AM,{children:[" ",O.jsxs("div",{className:"app-container",children:[O.jsx(bM,{agent:o}),O.jsx("main",{className:"container",children:O.jsxs(ER,{children:[O.jsx(Lr,{path:"/",element:O.jsx(SM,{children:O.jsx(DM,{})})}),O.jsx(Lr,{path:"/login",element:O.jsx(MM,{})}),O.jsx(Lr,{path:"/agent/:agentId/*",element:O.jsx(xM,{setSelectedAgentInApp:u})}),O.jsx(Lr,{path:"/my-profile",element:O.jsx(ah,{children:O.jsx(UM,{})})}),O.jsx(Lr,{path:"/my-profile/add-listing",element:O.jsx(ah,{children:O.jsx(jM,{})})}),O.jsx(Lr,{path:"/my-profile/my-listings",element:O.jsx(ah,{children:O.jsx(zM,{})})}),O.jsx(Lr,{path:"/unauthorized",element:O.jsx(BM,{})})]})}),O.jsx("footer",{children:O.jsx("p",{children:" 2024 Real Estate Catalog"})})]})]})}const HM=document.getElementById("root"),FM=Cw.createRoot(HM);FM.render(O.jsx(Ew.StrictMode,{children:O.jsx(FR,{children:O.jsx(qM,{})})}));
